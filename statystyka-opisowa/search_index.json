[
["index.html", "Statystyka opisowa Wprowadzenie", " Statystyka opisowa Katedra Statystyki Wprowadzenie Niniejszy skrypt stanowi pomoc dydaktyczną na przedmiocie Statystyka Opisowa. Celem przedmiotu jest poznanie metod statystycznych, ich zastosowań oraz interpretacja otrzymanych wyników. "],
["zbiorowosc.html", "1 Zbiorowość, jednostka, cecha 1.1 Zbiory danych", " 1 Zbiorowość, jednostka, cecha Dane, dane, dane! - wołał niecierpliwie - Nie mogę lepić cegieł nie mając gliny. – Przygoda w Copper Beeches, Artur Conan Doyle Statystyk do pracy potrzebuje danych. Te mogą być pozyskiwane na wiele różnych sposobów. Najpopularniejszym sposobem zbierania danych są badania ankietowe. Mogą być realizowane praktycznie przez każdego - osoby fizyczne (np. studentów), firmy, ośrodki badania opinii publicznej, administrację rządową, itd. W Polsce podmiotem odpowiedzialnym za przeprowadzanie badań społecznych jest Główny Urząd Statystyczny. Dzięki prowadzonym badaniom ankietowym dostarcza informacji na temat praktycznie każdej dziedziny życia obywatela Polski. Przykładowym badaniem prowadzonym przez GUS jest Badanie Aktywności Ekonomicznej Ludności. Zebranie informacji na temat profilu społeczno-demograficznego rynku pracy kosztuje rocznie ponad 17 milionów złotych (przygotowanie ankiet, zebranie danych, opracowanie wyników, druk publikacji). Próba badania to około 100 tys. osób czyli niecałe 3 promile całej populacji Polski. Innym źródłem danych są rejestry administracyjne, które gromadzą mniej danych, ale na temat całej zbiorowości - np. PESEL. Poza tym ogrome ilości danych gromadzą firmy prywatne - banki, telekomy, towarzystwa ubezpieczeniowe, portale społecznościowe. Przykładowo dane Facebooka to 300 petabajtów z dziennym przyrostem rzędu 600 TB (dane z roku 2014). W odniesieniu do każdego zbioru danych można zdefiniować zbiorowość statystyczną, jednostkę statystyczną oraz cechy statystyczne - stałe i zmienne. Zbiorowość statystyczna - zbiór elementów objętych badaniem statystycznym, posiadających co najmniej jedną cechę stałą (wspólną) oraz co najmniej jedną cechę zmienną (różniące te elementy między sobą). Przykładowo, ankietowano mieszkańców Poznania (cecha stała ponieważ wszyscy responendenci byli mieszkańcami Poznania) pod kątem sympatii do prezydenta (cecha zmienna ponieważ mieszkańcy udzielali różnych odpowiedzi). Zbiorowością będą oczywiście mieszkańcy Poznania. Jednostka statystyczna - pojedynczy element zbiorowości. W wyżej przedstawionym przykładzie jednostką będzie mieszkaniec Poznania. Z kolei cechy zmienne dzielą się na: czasowe, np. rok urodzenia przestrzenne, np. miejsce zamieszkania rzeczowe niemierzalne (jakościowe) dychotomia, np. płeć politomia, np. wykształcenie mierzalne (ilościowe) ciągłe, np. wzrost, waga, wiek, średnia ocen skokowe, np. liczba rodzeństwa, liczba pokoi Wyżej wprowadzone definicje najlepiej zobrazuje przykład ankiety. Wprowadzenie do ankiety Na podstawie zdania wprowadzającego do ankiety możemy zdefiniować zbiorowość oraz jednostkę. Zbiorowością są studenci pierwszego roku UEP, co jest ich cechą stałą (wspólną). Jednostką jest z kolei student pierwszego roku UEP - pojedyńczy ankietowany. Cechy zmienne można z kolei przypisać do kolejnych pytań w ankiecie: Pytania metryczkowe Płeć jest przykładem cechy rzeczowej, jakościowej i dychotomicznej. Data urodzenia to cecha czasowa, a miejsce urodzenia jest cechą przestrzenną. Kolejne pytania Preferowane miejsce pracy jest cechą rzeczową, jakościową i politomiczną, natomiast wysokość oczekiwanych zarobków brutto to cecha rzeczowa, ilościowa, ciągła. Zadania Zdefiniuj jednostkę oraz 3 przykładowe cechy wraz z rodzajem dla podanych zbiorowości: użytkownicy Facebooka gospodarstwa domowe przedsiębiorstwa budowlane klienci banku drzewa w parku Sołackim 1.1 Zbiory danych Podczas zajęć będziemy korzystać z dwóch zbiorów danych: dane sprzedażowe w sklepach Rossmann w Niemczech w 2014 roku - plik dane dotyczące sprzedaży piwa 0,5 l w 2011 roku - plik Rossmann Zmienne sklep_id - identyfikator sklepu dzien_tyg - liczba oznaczająca dzień tygodnia data - data w formacie rok-miesiąc-dzień sprzedaz - dzienny obrót (w euro) liczba_klientow - liczba klientów czy_otwarty - czy sklep był otwarty danego dnia czy_promocja - czy danego dnia rozpoczęła się promocja czy_swieto - czy sklep był zamknięty w dane święto czy_swieto_szkolne - czy na sklep miały wpływ dni wolne od szkoły sklep_typ - typ sklepu sklep_asort - dostępny asortyment sklep_konkurencja - odległość w metrach do najbliższego konkurencyjnego sklepu Piwa Zmienne miesiac - miesiąc zakupu poj - pojemność piwa wojewodztwo - województwo sklepy - rodzaj sklepu browar - pochodzenie piwa cena - jednostkowa cena piwa sztuki - liczba zakupionych sztuk piwa Zadania Z wykorzystaniem narzędzia tabel przestawnych w Excelu (wstążka “Wstawianie” -&gt; Tabele przestawne) określ rodzaj cechy dla każdej zmiennej. "],
["wizualizacja-danych.html", "2 Wizualizacja danych 2.1 Rodzaje rozkładów 2.2 Szeregi statystyczne 2.3 Dystrybuanta 2.4 Histogramy", " 2 Wizualizacja danych Bardzo istotną częścią statystyki jest wizualizacja wyników. Poprawne korzystanie z wykresów wymaga poznania kilku, czasami nieoczywistych, zasad: efekt 3D na wykresach zaburza percepcje i utrudnia porównywanie danych, wykresy liniowe służą przede wszystkim do prezentacji zmian w czasie, … Zasoby internetowe są pełne przykładów i wzorców tworzenia wykresów: Graficzna prezentacja danych statystycznych - Wykresy, mapy, GIS Zbiór esejów o wizualizacji danych Flowing Data D3 W analizie statystycznej bardzo ważne jest pojęcie rozkładu cechy. Rozkładem empirycznym cechy nazywamy przyporządkowanie kolejnym wartościom zmiennej (\\(x_{i}\\)) odpowiadającym im liczebności (\\(n_{i}\\)). Rozkład odzwierciedla strukturę badanej zbiorowości z punktu widzenia określonej cechy. Najdogodniejszym sposobem graficznej prezentacji rozkładu jest histogram przedstawiający częstość poszczególnych kategorii. Histogram można utworzyć na podstawie tabeli przestawnej. W sytuacji kiedy nie wszystkie wartości są reprezentowane histogram może wyglądać dziwnie, dlatego stosuje się grupowanie wartości. W Excelu jest to możliwe z wykorzystaniem funkcji CZĘSTOŚĆ. Funkcja ta oblicza rozkład częstości występowania wartości w zakresie wartości (działa po zaznaczeniu odpowiedniego zakresu z~kombinacją CTRL+SHIFT+ENTER). Prawe przedziały są domknięte. 2.1 Rodzaje rozkładów Ze względu na liczbę punktów ekstremalnych i rodzaj zmienności: Ze względu na skupienie wokół średniej: W ten sposób możemy opisywać histogramy, natomiast w dalszej części zajęć dowiemy się jakie miary definiują te cechy. Przejdźmy do naszego zbioru danych i przeanalizujmy liczbę klientów. Okazuje się, że występuje bardzo dużo wartości równych 0, wynikających z obserwacji dni, w których sklep był zamknięty. Musimy wyeliminować zera z naszych danych. Obecnie rozkład liczby klientów jest dużo bardziej czytelny. Niemniej możemy zauważyć wiele wartości, które występują częściej od pozostałych. Zgrupujmy słupki w przedziałach o rozpiętości 100 klientów. Najliczniejszą kategorią stanowią dni, w których liczba klientów pochodziła z przedziału 500-600 osób. Można także zaobserwować, że rozkład charakteryzuje się asymetrią prawostronną. 2.2 Szeregi statystyczne Przeprowadzając powyższe grupowanie utworzyliśmy kilka rodzajów szeregów statystycznych. Szereg statystyczny jest to ciąg wielkości statystycznych usystematyzowanych według określonego ściśle kryterium. Powstaje on w wyniku grupowania bądź porządkowania. Stanowi podstawę dla prowadzenia numerycznej analizy statystycznej. szereg prosty to wykaz wszystkich wariantów badanej cechy np. liczba klientów dla każdego sklepu danego dnia szereg rozdzielczy jednostkowy (punktowy) wykaz wariantów cechy i liczebności poszczególnego wariantu np. szereg utworzony z wykorzystaniem tabeli przestawnej szereg rozdzielczy przedziałowy zamknięty o równych przedziałach klasowych wykaz zgrupowanych wariantów cechy i liczebności poszczególnych wariantów np. szereg utworzony z wykorzystaniem funkcji CZĘSTOŚĆ szereg rozdzielczy przedziałowy zamknięty o nierównych przedziałach klasowych szereg rozdzielczy przedziałowy otwarty - kiedy w pierwszej lub/i ostatniej grupie znajduje się przedział otwarty (zwrot poniżej/powyżej) 2.3 Dystrybuanta Kolejnym zagadnieniem związanym z rozkładem cechy jest dystrybuanta. Dystrybuanta empiryczna to funkcja ukazująca skumulowany rozkład cechy w n-elementowej zbiorowości. Funkcję \\(F(x)\\) definiuje się jako skumulowane prawdopodobieństwo wystąpienia - tj. sumę prawdopodobieństw od danego przedziału klasowego w rozkładzie empirycznym badanej cechy. Wyraża się wzorem: \\[F(x)=\\sum\\limits_{x_{i}&lt;x}{p_{i}},\\] gdzie: \\(p_{i}\\) — prawdopodobieństwo wystąpienia wariantu. Dystrybuanta empiryczna jest funkcją: niemalejącą, lewostronnie ciągłą. Dystybuanta ciągła liczby klientów Dystrybuanta skokowa liczby klientów Przykładowo prawdopodobieństwo, że wystąpi dzień, w którym sklep obsłuży do 700 klientów wynosi 55%. Zadania Z wykorzystaniem histogramu lub innych poznanych podczas zajęć metod określ w jaki dzień tygodnia sklepy Rossmann odwiedza najwięcej klientów. 2.4 Histogramy Jak utworzyć histogram? Aby utworzyć histogram musimy określić szerokość przedziału. Istnieje wiele metod tworzenia tych przedziałów, najcześciej występujące przedstawiam poniżej. Poniżej przedstawiam tabelę z rozkładem zmiennej, którą badamy minimum q1 median mean q3 maximum 71.90225 93.71676 100.0921 100.1613 106.646 132.4104 2.4.1 Metoda arbitralnie ustalanej szerokosci przedziałów \\[ k = \\left \\lceil \\frac{\\max x - \\min x}{h} \\right \\rceil, \\] gdzie \\(x\\) oznacza badaną cechę ciągłą, \\(h\\) oznacza arbitralnie ustawioną szerokość przedziałów, a \\(k\\) liczba przedziałów. 2.4.2 Metoda pierwiastkowa \\[ k = \\sqrt{n} \\] gdzie \\(n\\) oznacza liczbę obserwacji. 2.4.3 Metoda Struges’a Sturges, H. A. (1926). The choice of a class interval. Journal of the american statistical association, 21(153), 65-66. LINK \\[ k = \\lceil \\log_2 n \\rceil+ 1 \\] gdzie \\(\\lceil \\bullet \\rceil\\) oznacza sufit lub cecha górna liczby rzeczywistej. UWAGA: Tej metody nie należy stosować dla małych prób (np. \\(n &lt; 30\\)) oraz asymetrycznych rozkładów (tj. innych niż rozkład normalny). Zachęcam do zapoznania się z dyskusją na temat tej metody: http://www.robjhyndman.com/papers/sturges.pdf 2.4.4 Metoda Uniwersytetu Rice \\[ k = \\lceil 2 n^{1/3} \\rceil \\] 2.4.5 Metoda Doane’a Doane, D. P. (1976). Aesthetic frequency classifications. The American Statistician, 30(4), 181-183. LINK \\[ k = 1 + \\log_2( n ) + \\log_2 \\left( 1 + \\frac { |g_1| }{\\sigma_{g_1}} \\right) \\] gdzie \\(g_1\\) oznacza trzeci moment (asymetrię), a \\(\\sigma_{g_1} = \\sqrt { \\frac { 6(n-2) }{ (n+1)(n+3) } }\\). 2.4.6 Metoda Scott’a Scott, D. W. (1979). On optimal and data-based histograms. Biometrika, 605-610. LINK \\[ h = \\frac{3.5 \\operatorname{s}(x)}{n^{1/3}} \\] gdzie \\(\\operatorname{s}(x)\\) to odchylenie standardowe (np. z próby). 2.4.7 Metoda Freedmana–Diaconis’a Freedman, D., &amp; Diaconis, P. (1981). On the histogram as a density estimator: L 2 theory. Zeitschrift für Wahrscheinlichkeitstheorie und verwandte Gebiete, 57(4), 453-476. LINK \\[ h = 2 \\frac{\\operatorname{R}(x)}{n^{1/3}} \\] gdzie \\(R(x) = Q3 - Q1\\), a \\(Q1\\) oznacza kwartyl pierwszy, a \\(Q3\\) kwartyl trzeci. "],
["analiza-struktury.html", "3 Analiza struktury 3.1 Miary klasyczne 3.2 Miary pozycyjne 3.3 Szereg jednostkowy i przedziałowy 3.4 Podsumowanie miar", " 3 Analiza struktury Kompleksowa analiza struktury oznacza wyczerpujący opis cech zbiorowości statystycznej. Do charakterystyk najczęściej wykorzystywanych przy opisie struktury zbiorowości należą: miary przeciętne - służące do określania tej wartości zmiennej opisanej przez rozkład, wokół której skupiają się pozostałe wartości zmiennej, miary rozproszenia (dyspersji) - służące do badania stopnia zróżnicowania wartości zmiennej, miary asymetrii - służące do badania asymetrii rozkładu, miary koncentracji - służące do analizy stopnia skupienia poszczególnych jednostek wokół średniej. Analiza struktury bazuje na dwóch typach miar: miary klasyczne - obliczane na podstawie wszystkich obserwacji, miary pozycyjne - wartość miary wskazuje dana jednostka. Celem analizy struktury jest dostarczenie kilku liczb, które w łatwy sposób pozwolą na opis i porównania badanych cech. Dominanta czyli najczęściej występująca wartość. Inaczej moda, modalna, tryb (w Excelu - kalka językowa z angielskiego słowa mode. Wartość dominanty można ustalić jedynie dla rozkładów jednomodalnych. W Excelu jest funkcja: WYST.NAJCZĘSĆIEJ, jednak dla rozkładów wielomodalnych zwróci ona pierwszą modalną. 3.1 Miary klasyczne Najpopularniejszym przedstawicielem miar klasycznych jest średnia arytmetyczna. Wyrażona jest wzorem: \\[\\bar{x}=\\frac{\\sum\\limits_{i=1}^{N}{x_{i}}}{N},\\] gdzie: \\(\\bar{x}\\) - symbol średniej arytmetycznej, \\(x_{i}\\) — wariant cechy mierzalnej, \\(N\\) — liczebność badanej zbiorowości. Co sprawia, że średnia jest tak powszechną i uniwersalną miarą? Jest to liczba, która ma najwięcej wspólnego z każdą wartością cechy w zbiorowości. Innymi słowy, odległość wartości cechy od średniej jest najmniejsza z możliwych. Przykładowo, dane są oceny jednego ze studentów: 3, 4, 5, 3+, 2, 4, 3 Na powyższym wykresie punkty oznaczają kolejne oceny, natomiast średnia została zaznaczona kolorem czerwonym - wynosi ona 3,5. Jako miarę odległości poszczególnych ocen od średniej możemy przyjąć wartość bezwzględną różnicy danej oceny i średniej. W tej sytuacji pierwsza ocena różni się od średniej o 0,5, druga ocena także, natomiast trzecia o 1,5, itd. Po zsumowaniu tych wartości otrzymujemy sumę odchyleń równą 5. Jest to najmniejsza wartość jaką jesteśmy w stanie otrzymać. Jeżeli stwierdzimy, że w naszym mniemaniu wartość 3,55 jest lepszą miarą przeciętną to suma odchyleń będzie już większa i wyniesie 5.05. W Excelu istnieje funkcja: ŚREDNIA. Średnia stanowi także dobrą miarę jeśli chcemy porównać jakieś grupy. Co jednak zrobić w sytuacji, kiedy przykładowo dwaj studenci mają identyczne średnie ocen? Czy to oznacza, że ich oceny są także takie same? Taka sytuacja może się zdarzyć, ale występuje dosyć rzadko. Poniżej zostały przedstawione oceny dwóch studentów, którzy mają identyczną średnią. To co możemy zauważyć gołym okiem to fakt, że oceny studenta nr 2 są bliżej średniej. Miarą zróżnicowania cechy jest wariancja dana formułą: \\[s^2=\\frac{1}{N}\\sum\\limits_{i=1}^{N}{(x_{i}-\\bar{x})^2}\\] gdzie: \\(s^2\\) - symbol wariancji, \\(\\bar{x}\\) - średnia arytmetyczna w zbiorowości, \\(x_{i}\\) - wariant cechy mierzalnej, \\(N\\) - liczebność badanej zbiorowości. Jeżeli przeanalizujemy wzór na wariancję jest on bardzo logiczny. W pierwszym kroku liczymy odchylenia wartości cechy od średniej. Następnie otrzymane wartości podnosimy do kwadratu w celu uniknięcia wartości ujemnych, a następnie wszystko uśredniamy. Możemy zatem powiedzieć, że wariancja jest średnią kwadratów odchyleń wartości od średniej. Wariancja ocen pierwszego studenta wynosi 0.79, natomiast drugiego 0.14. Na podstawie tej miary jesteśmy w stanie stwierdzić, że większe zróżnicowanie ocen występuje u pierwszego studenta. Nie możemy jednak powiedzieć jak bardzo się różnią ponieważ wariancji nie jesteśmy w stanie zinterpretować. Wynika to z faktu, że wynik wariancji jest podawany w jednostkach do kwadratu, co zwykle jest pozbawione sensu. W Excelu dysponujemy dwiema funkcjami do wyliczenia wariancji: WARIANCJA.POP (we wzorze znajduje się \\(\\frac{1}{N}\\)), WARIANCJA.PRÓBKI (we wzorze znajduje się \\(\\frac{1}{N-1}\\)). W zależności od tego czy mamy informację o populacji czy tylko próbie powinniśmy stosować odpowiednią formułę. Podczas zajęć przyjmujemy, że dysponujemy całą populacją i będziemy stosować odpowiednie funkcje. Pierwiastek z wariancji czyli odchylenie standardowe umożliwia liczbowe określenie zróżnicowania. Informuje o ile jednostki zbiorowości różnią się średnio od średniej. W interpretacji odchylenia standardowego musimy pamiętać o pojawiającym się dwa razy słowie średnia. Pierwsze dotyczy średniej zastosowanej we wzorze na wariancje, a drugie określa policzoną wcześniej średnią arytmetyczną. O pierwszym studencie powiemy, że jego oceny różnią się średnio od średniej o 0.89 oceny, natomiast oceny drugiego studenta odchylają się średnio od średniej o 0.37 oceny. Podobnie jak w przypadku wariancji w Excelu znajdują się dwie funkcje do wyznaczania odchylenia standardowego: ODCH.STAND.POPUL, ODCH.STANDARD.PRÓBKI. Jak jednak porównać cechy, które mają różne średnie i odchylenia standardowe? Przeprowadzono eksperyment, w którym 100 osobom zmierzono długość ręki i nogi. Średnia długość nogi wynosiła 102.97 cm, a odchylenie standardowe 9.24 cm. Z kolei długość ręki charakteryzowała się wartością 74.78 cm z odchyleniem standardowym rzędu 9.33 cm. Ocena zróżnicowania cech o różnych średnich jest możliwe z wykorzystaniem klasycznego współczynnika zmienności: \\[V_{s}=\\frac{s}{\\bar{x}}\\cdot 100,\\] gdzie: \\(s\\) - odchylenie standardowe, \\(\\bar{x}\\) - średnia arytmetyczna. Współczynnik zmienności wyrażony jest w procentach i można przyjąć kilka umownych progów: 0%-20% - cecha mało zróżnicowana, 21%-40% - cecha umiarkowanie zróżnicowana, 41%-60% - cecha silnie zróżnicowana, powyżej 60% - cecha bardzo silnie zróżnicowana. Oczywiście wszystko zależy od tego jaką cechę analizujemy i jakie jest jej typowe zróżnicowanie. Obliczając wartość współczynnika zmienności dla długości nogi otrzymamy 8.97%, natomiast dla długości ręki 12.48%. Na tej podstawie możemy stwierdzić, że długość ręki charakteryzuje się większym zróżnicowaniem. Klasyczny współczynnik zmienności nie ma oprogramowanej odpowiedniej funkcji w Excelu. Odchylenie standardowe oraz średnią zestawiamy ze sobą także podczas wyznaczania typowego obszaru zmienności: \\[\\bar{x} - s &lt; x_{typ} &lt; \\bar{x} + s\\] Zgodnie z definicją w tym przedziale mieści się około 2/3 wszystkich jednostek analizowanej cechy. Typowy obszar zmienności dla długości nogi to przedział od 93.73 cm do 112.21 cm i w rzeczywistości zawiera 74% obserwacji. Patrz też: Reguła trzech sigm. Do kompletnego opisu struktury brakuje tylko miar określających asymetrię oraz skupienie wokół średniej. Klasyczny współczynnik asymetrii nazywany także trzecim momentem centralnym albo skośnością jest wyrażony wzorem: \\[\\alpha_{3}=\\frac{\\frac{1}{N}\\sum\\limits_{i=1}^{N}{(x_{i}-\\bar{x})^3}}{s^3},\\] gdzie: \\(\\alpha_{3}\\) - symbol klasycznego współczynnika asymetrii, \\(s\\) - odchylenie standardowe w zbiorowości, \\(\\bar{x}\\) - średnia arytmetyczna w zbiorowości, \\(x_{i}\\) - wariant cechy mierzalnej, \\(N\\) - liczebność badanej zbiorowości. Pozwala określić czy rozkład cechy jest: symetryczny - rozkład jest symetryczny, \\(\\alpha_{3}=0\\), lewostronnie asymetryczny - wydłużone lewe ramię rozkładu, \\(\\alpha_{3}&lt;0\\), prawostronnie asymetryczny - wydłużone prawe ramię rozkładu, \\(\\alpha_{3}&gt;0\\). Skośność dla długości nogi wynosi 0.1134617, co oznacza, że rozkład długości nóg cechuje się lekką prawostronną asymetrią. W Excelu znajduje się funkcja o nazwie: SKOŚNOŚĆ. Skupienie wokół średniej definiuje klasyczny współczynnik koncentracji, inaczej czwarty moment centralny lub kurtoza: \\[\\alpha_{4}=\\frac{\\frac{1}{N}\\sum\\limits_{i=1}^{N}{(x_{i}-\\bar{x})^4}}{s^4},\\] gdzie: \\(\\alpha_{4}\\) - symbol klasycznego współczynnika koncentracji, \\(s\\) - odchylenie standardowe w zbiorowości, \\(\\bar{x}\\) - średnia arytmetyczna w zbiorowości, \\(x_{i}\\) - wariant cechy mierzalnej, \\(N\\) - liczebność badanej zbiorowości. Pozwala określić czy rozkład cechy jest: normalny - \\(\\alpha_{4}=3\\), spłaszczony - wartości nie są mocno skoncentrowane wokół średniej, \\(\\alpha_{4}&lt;3\\), wysmukły - wartości są mocno skoncentrowane wokół średniej, \\(\\alpha_{4}&gt;3\\). Niektóre programy zamiast kurtozy wyznaczają tzw. eksces: \\(Ex=\\alpha_{4}-3\\) Wówczas wartość tej miary interpretujemy przyjmując za punkt odniesienia wartość 0. Kurtoza dla długości nogi wynosi 6.4025412, co oznacza, że rozkład długości nóg jest wysmukły. W Excelu znajduje się funkcja o nazwie: KURTOZA. Do wyznaczenia powyższych miar można także wykorzystać dodatek programu Excel: Analiza danych znajdujący się po prawej stronie we wstążce DANE. Jeśli nie widzimy tego dodatku to klikamy Przycisk pakietu Office w lewym górnym rogu ekranu, następnie Opcje. W nowym oknie przechodzimy do Dodatki i na dole okna przycisk Przejdź. Zaznaczamy Analysis ToolPak i wybieramy OK. Przykład Wykorzystując zbiór danych na temat sklepów Rossmann przeprowadzimy kompleksową analizę porównawczą struktury sprzedaży w dwóch wybranych sklepach. Pierwszy ze sklepów (id=1) posiada asortyment podstawowy i jest typu c, natomiast drugi (id=7) posiada asortyment rozszerzony i jest typu a. W pierwszym kroku zobaczmy jak wygląda rozkład analizowanej cechy po wyeliminowaniu dni, w którym sklep był zamknięty. Już na pierwszy rzut oka widać różnice w rozkładzie sprzedaży dla poszczególnych sklepów. Pierwszy z rozkładów jest bardziej wysmukły, natomiast w drugim przypadku obserwujemy wyższe wartości sprzedaży. Z wykorzystaniem miar klasycznych dokonamy analizy sprzedaży. Sklep_1 Sklep_7 n 303.00 305.00 x_sr 4730.72 8975.03 s 1057.28 2487.50 v_s 22.35 27.72 alpha_3 1.00 0.58 alpha_4 4.53 2.83 3.2 Miary pozycyjne Podstawą miar pozycyjnych jest podział cechy zbiorowości na cztery równe części. Punkty podziału wskazują nam kwartyle. Najpopularniejszą z miar pozycyjnych jest mediana (kwartyl 2, wartość środkowa, \\(Q_2\\)), która wyznacza wartość dla której 50% jednostek zbiorowości ma wartości cechy niższe bądź równe medianie, a 50% równe bądź wyższe od mediany. Medianę wyznacza się poprzez posortowanie wartości cechy rosnąco i wybór wartości środkowej (jeśli \\(N\\) jest nieparzyste) lub średniej z wartości środkowych (jeśli \\(N\\) jest parzyste). Zaletą mediany jest mniejsza wrażliwość na obserwacje odstające. Rozważmy przypadek wynagrodzeń w pewnych przedsiębiorstwach: W firmie A wynagrodzenia pracowników nie są zróżnicowane, ale nie występują pomiędzy nimi zbyt duże różnice. Średnia pensja (kolor czerwony) wynosi 3357 zł, natomiast mediana (kolor niebieski) odpowiada wynagrodzeniom 7 i 8 pracownika - 3500 zł. Można powiedzieć, że obie wartości dobrze odzwierciedlają realne zarobki pracowników. Z kolei w firmie B nierówności dochodowe są znacznie większe, możliwe że zestawiono wynagrodzenia pracowników szeregowych oraz kadry zarządzającej. Średnia wynosząca 3104 zł nie oddaje prawdziwych zarobków ani pierwszej ani drugiej grupy. Natomiast wartość mediany wynosząca 2525 zł jest bardziej odporna na wartości odstające. Mediana wynagrodzenia w firmie B oznacza, że 50% pracowników otrzymuje pensję w wysokości 2525 zł lub mniej, natomiast drugie 50% zatrudnionych uzyskuje wynagrodzenie w wysokości 2525 zł lub więcej. W Excelu możemy skorzystać z funkcji: MEDIANA(wartości cechy), KWARTYL.PRZEDZ.ZAMK(wartości cechy, 2). Mediana podzieliła nam jednostki zbiorowości na dwie połowy. Jeśli podzielimy pierwszą połową ponownie na pół otrzymamy wartość kwartyla pierwszego (dolnego), który informuje, że 25% jednostek zbiorowości ma wartości cechy niższe bądź równe kwartylowi pierwszemu \\(Q_{1}\\), a 75% równe bądź wyższe od tego kwartyla. Z kolei po podzieleniu drugiej połowy obserwacji uzyskujemy wartość kwartyla trzeciego (górnego), który informuje, że 75% jednostek zbiorowości ma wartości cechy niższe bądź równe kwartylowi trzeciemu \\(Q_{3}\\), a 25% równe bądź wyższe od tego kwartyla. Do wyznaczenia wartości kwartyli w Excelu korzystamy z funkcji: KWARTYL.PRZEDZ.ZAMK(wartości cechy, numer kwartyla), gdzie numer kwartyla to: 0 - minimum, 1 - kwartyl dolny, 2 - mediana, 3 - kwartyl górny, 4 - maksimum. W firmie A kwartyl dolny wynagrodzeń wyniósł 2550 zł, co oznacza, że 25% pracowników uzyskuje pensją równą bądź niższą niż 2550 zł, a 75% równą bądź wyższą niż 2550. Z kolei 75% pracowników otrzymuje wynagrodzenie mniejsze lub równe 4038 zł, a 25% większe bądź równe 4038 zł. W firmie B kwartyl pierwszy jest równy 2238 zł, a trzeci 4350 zł. Wartości kwartyli można przedstawić na wykresie pudełkowym (ang. boxplot): W miarach pozycyjnych opartych na kwartylach zróżnicowanie wartości od mediany mierzy odchylenie ćwiartkowe: \\[Q=\\frac{Q_{3}-Q_{1}}{2}\\] gdzie: \\(Q\\) - symbol odchylenia ćwiartkowego, \\(Q_{1}\\) - kwartyl pierwszy, \\(Q_{3}\\) - kwartyl trzeci. Mierzy ono przeciętne odchylenie wartości cechy zbiorowości od mediany u 50% środkowych jednostek - między kwartylem dolnym i górnym. Przykładowo w firmie A przeciętne odchylenie wynagrodzenia od mediany wynosi 744 zł. Zestawienie ochylenia ćwiartkowego oraz mediany pozwala na obliczenie pozycyjnego współczynnika zmienności: \\[V_{Q}=\\frac{Q}{Q_2} \\cdot 100\\] gdzie: \\(V_{Q}\\) - symbol pozycyjnego współczynnika zmienności, \\(Q\\) - odchylenie ćwiartkowe, \\(Q_2\\) - mediana. Podobnie jak w przypadku klasycznego współczynnika zmienności korzystamy z umownych progów dotyczących zróżnicowania. W firmie A pozycyjny współczynnik zmienności był równy 21% co oznacza, że wynagrodzenia w tej firmie cechowały się umiarkowanym zróżnicowaniem, natomiast w firmie B było to 42% czyli silne zróżnicowanie wynagrodzeń. Ostatnią miarą opartą na kwartylach jest pozycyjny współczynnik asymetrii, który określa kierunek i siłę asymetrii jednostek znajdujących się między pierwszym i trzecim kwartylem: \\[A_{Q}=\\frac{Q_{1}+Q_{3}-2 \\cdot Q_2}{2 \\cdot Q}\\] gdzie: \\(A_{Q}\\) — symbol pozycyjnego współczynnika asymetrii, \\(Q_{1}\\) — kwartyl pierwszy, \\(Q_{3}\\) — kwartyl trzeci, \\(Q_{2}\\) — mediana, \\(Q\\) — odchylenie ćwiartkowe. Interpretacja pozycyjnego współczynnika asymetrii przebiega identycznie jak w przypadku klasycznego współczynnika asymetrii: symetryczny - mediana pomiędzy wartościami kwartyli dolnego i górnego, \\(A_{Q}=0\\), lewostronnie asymetryczny - mediana bliżej wartości kwartyla górnego, \\(A_{Q}&lt;0\\), prawostronnie asymetryczny - mediana bliżej wartości kwartyla dolnego, \\(A_{Q}&gt;0\\). Tę informację możemy także odczytać z wykresu pudełkowego, określając umiejscowienie mediany względem pozostałych kwartyli: W firmie A pozycyjny współczynnik asymetrii był równy -0.28, co pociąga za sobą informację o asymetrii lewostronnej, natomiast w firmie B występowała asymetria prawostronna (0.73). Przykład Wyznaczmy miary pozycyjne dla dwóch sklepów Rossmann analizowanych wcześciej: Sklep_1 Sklep_7 n 303.00 305.00 q1 3908.00 7129.00 q2 4607.00 8592.00 q3 5286.00 10681.00 q 689.00 1776.00 v_q 14.96 20.67 aq -0.01 0.18 Zadania Przeprowadzić kompleksową analizę struktury sprzedaży/liczby klientów dla poszczególnych dni tygodnia. 3.3 Szereg jednostkowy i przedziałowy Nie zawsze dysponujemy danymi zebranymi w szeregu prostym. W opracowaniach statystycznych dane publikowane są w postaci szeregów jednostkowych oraz przedziałowych. W tej części opracowania skupimy się na analizie struktury takich danych. 3.3.1 Szereg jednostkowy W przypadku szeregu jednostkowego możliwe jest odtworzenie szeregu prostego bądź zastosowanie wzorów, w których odpowiednio przeważymy obserwacje. Odpowiednimi wagami będą liczebności. \\[\\bar{x}=\\frac{1}{N}\\sum\\limits_{i=1}^{N}{x_{i}n_{i}}\\] \\[s^2=\\frac{1}{N}\\sum\\limits_{i=1}^{N}{(x_{i}-\\bar{x})^2 \\cdot n_{i}}\\] \\[\\alpha_{3}=\\frac{\\frac{1}{N}\\sum\\limits_{i=1}^{N}{(x_{i}-\\bar{x})^3}\\cdot n_{i}}{s^3}\\] \\[\\alpha_{4}=\\frac{\\frac{1}{N}\\sum\\limits_{i=1}^{N}{(x_{i}-\\bar{x})^4 \\cdot n_{i}}}{s^4}\\] gdzie: \\(\\bar{x}\\) - średnia arytmetyczna w zbiorowości, \\(s\\) - odchylenie standardowe w zbiorowości, \\(\\alpha_{3}\\) - symbol klasycznego współczynnika asymetrii, \\(\\alpha_{4}\\) - symbol klasycznego współczynnika koncentracji, \\(x_{i}\\) - wariant cechy mierzalnej, \\(n_{i}\\) - liczba obserwacji dla wariantu, \\(N\\) - liczebność badanej zbiorowości. 3.3.2 Szereg przedziałowy W przypadku szeregu przedziałowego przeprowadzanie analizy struktury nie jest już takie oczywiste. Nie mamy jednoznacznie określonego wariantu cechy. W związku z tym wyznaczamy środek przedziału klasowego i tą wartość traktujemy jako wariant cechy. Z takiego podejścia do sprawy wynikają dwie istotne kwestie: poniższe wzory możemy zastosować wyłącznie do analizy szeregów rozdzielczych przedziałowych zamkniętych o równych przedziałach klasowych, sposób utworzenia szeregu rozdzielczego będzie miał wpływ na precyzję wyników. \\[\\bar{x}=\\frac{1}{N}\\sum\\limits_{i=1}^{N}{x_{i}&#39;n_{i}}\\] \\[s^2=\\frac{1}{N}\\sum\\limits_{i=1}^{N}{(x_{i}&#39;-\\bar{x})^2 \\cdot n_{i}}\\] \\[\\alpha_{3}=\\frac{\\frac{1}{N}\\sum\\limits_{i=1}^{N}{(x_{i}&#39;-\\bar{x})^3}\\cdot n_{i}}{s^3}\\] \\[\\alpha_{4}=\\frac{\\frac{1}{N}\\sum\\limits_{i=1}^{N}{(x_{i}&#39;-\\bar{x})^4 \\cdot n_{i}}}{s^4}\\] gdzie: \\(\\bar{x}\\) - średnia arytmetyczna w zbiorowości, \\(s\\) - odchylenie standardowe w zbiorowości, \\(\\alpha_{3}\\) - symbol klasycznego współczynnika asymetrii, \\(\\alpha_{4}\\) - symbol klasycznego współczynnika koncentracji, \\(x_{i}&#39;\\) - środek przedziału klasowego dla wariantu cechy, \\(n_{i}\\) - liczba obserwacji dla wariantu, \\(N\\) - liczebność badanej zbiorowości. Przy założeniu, że dominanta znajduje się w najliczniejszym przedziale możemy zastosować poniższy wzór: \\[D=x_{D}+\\frac{n_{D}-n_{D-1}}{2n_{D}-n_{D-1}-n_{D+1}}\\cdot c_{D}\\] gdzie: \\(D\\) - symbol dominanty, \\(x_{D}\\) - początek przedziału, w którym znajduje się dominanta, \\(n_{D}\\) - liczebność najliczniejszego przedziału, \\(n_{D-1}\\) - liczebność przedziału wcześniejszego niż najliczniejszy, \\(n_{D+1}\\) - liczebność przedziału późniejszego niż najliczniejszy, \\(c_{D}\\) - rozpiętość najliczniejszego przedziału. Dla szeregu rozdzielczego możemy także wyznaczyć wartości kwartyli stosując wzory interpolacyjne: \\[Q_{1}=xQ_{1}+\\frac{\\frac{N}{4}-cumQ_{1}^{-1}}{nQ_{1}} \\cdot cQ_{1}\\] gdzie: \\(Q_{1}\\) - oznaczenie kwartyla pierwszego, \\(N\\) - liczebność badanej zbiorowości, \\(xQ_{1}\\) - początek przedziału, w którym znajduje się kwartyl pierwszy, \\(cumQ_{1}^{-1}\\) - skumulowana liczebność z przedziału wcześniejszego niż ten, który zawiera kwartyl pierwszy, \\(nQ_{1}\\) - liczebność przedziału zawierającego kwartyl pierwszy, \\(cQ_{1}\\) - rozpiętość przedziału zawierającego kwartyl pierwszy. \\[Q_{2}=xQ_{2}+\\frac{\\frac{N}{2}-cumQ_{2}^{-1}}{nQ_{2}} \\cdot cQ_{2}\\] gdzie: \\(Q_{2}\\) - oznaczenie mediany, \\(N\\) - liczebność badanej zbiorowości, \\(xQ_{2}\\) - początek przedziału, w którym znajduje się mediana, \\(cumQ_{2}^{-1}\\) - skumulowana liczebność z przedziału wcześniejszego niż ten, który zawiera mediana, \\(nQ_{2}\\) - liczebność przedziału zawierającego medianę, \\(cQ_{2}\\) - rozpiętość przedziału zawierającego medianę. \\[Q_{3}=xQ_{3}+\\frac{\\frac{3N}{4}-cumQ_{3}^{-1}}{nQ_{3}} \\cdot cQ_{3}\\] gdzie: \\(Q_{3}\\) - oznaczenie kwartyla trzeciego, \\(N\\) - liczebność badanej zbiorowości, \\(xQ_{3}\\) - początek przedziału, w którym znajduje się kwartyl trzeci, \\(cumQ_{3}^{-1}\\) - skumulowana liczebność z przedziału wcześniejszego niż ten, który zawiera kwartyl trzeci, \\(nQ_{3}\\) - liczebność przedziału zawierającego kwartyl trzeci, \\(cQ_{3}\\) - rozpiętość przedziału zawierającego kwartyl trzeci. Po wyznaczeniu wartości kwartyli pozostałe miary liczymy w tradycyjny sposób. 3.4 Podsumowanie miar 3.4.1 Miary klasyczne Miara Oznaczenie Wzór Interpretacja i wykorzystanie Funkcja w Excelu Średnia arytmetyczna \\(\\bar{x}\\) \\(\\frac{\\sum_{i=1}^N x_i}{N}\\) Wartość przeciętna ŚREDNIA(x) Średnia harmoniczna \\(\\bar{x}_h\\) \\(\\frac{n}{\\sum_{i=1}^N\\frac{1}{x_i}}\\) Wartość przeciętna ŚREDNIA.GEOMETRYCZNA(x) Średnia geometryczna \\(\\bar{x}_g\\) \\(\\sqrt{x_1 x_2 ... x_N}\\) Wartość przeciętna ŚREDNIA.HARMONICZNA(x) Odchylenie przeciętne (średnie) \\(d\\) \\(\\frac{1}{N}\\sum \\mid x_i - \\bar{x} \\mid\\) O ile wszystkie jednostki badanej zbiorowości różnią się średnio ze względu na wartość zmiennej od średniej arytmetycznej tej zmiennej ODCH.ŚREDNIE(x) Odchylenie kwadratowe \\(d^2\\) \\(\\sum_{i=1}^N (x_i - \\bar{x})^2\\) Kwadrat odchylenia przeciętnego ODCH.KWADRATOWE(x) Odchylenie standardowe (dla populacji) \\(s\\) \\(\\sqrt{\\frac{\\sum_{i=1}^N (x_i - \\bar{x})^2}{N}}\\) O ile przeciętnie odchylają się wartości od średniej ODCH.STAND.POPUL(x) Odchylenie standardowe (dla próby) \\(s\\) \\(\\sqrt{\\frac{\\sum_{i=1}^N (x_i - \\bar{x})^2}{N-1}}\\) O ile przeciętnie odchylają się wartości od średniej ODCH.STANDARD.PRÓBKI(x) Wariancja (dla populacji) \\(s^2\\) \\(\\frac{\\sum_{i=1}^N (x_i - \\bar{x})^2}{N}\\) Informuje o zróżnicowaniu populacji WARIANCJA.POP(x) Wariancja (dla próby) \\(s^2\\) \\(\\frac{\\sum_{i=1}^N (x_i - \\bar{x})^2}{N-1}\\) Informuje o zróżnicowaniu próby WARIANCJA.PRÓBKI(x) Rozstęp \\(R\\) \\(max(x) - min(x)\\) Empiryczny obszar zmienności, wartość maksymalna cechy x minus wartość minimalna tej cechy – Typowy obszar zmiennośći – \\(\\bar{x} - s &lt; x_{typ} &lt; \\bar{x} + s\\) Informuje o relatywnym zróżnicowaniu populacji (próby). Zwykle wykorzystujemy do porównań dwóch lub więcej grup. – Współczynnik zmienności \\(V_x\\) \\(\\frac{s}{\\bar{x}}\\) Informuje o relatywnym zróżnicowaniu populacji (próby). Zwykle wykorzystujemy do porównań dwóch lub więcej grup. Wyrażamy w procentach. – Współczynnik asymetrii \\(\\alpha_3\\) \\(\\frac{\\frac{1}{N}\\sum_{i=1}^{N}{(x_{i}-\\bar{x})^3}}{s^3}\\) Pozwala zidentyfikować czy rozkład jest symetryczny lub asymetryczny SKOŚNOŚĆ(x) Współczynnik koncentracji \\(\\alpha_4\\) \\(\\frac{\\frac{1}{N}\\sum_{i=1}^{N}{(x_{i}-\\bar{x})^4}}{s^4}\\) Pozwala zidentyfikować czy rozkład jest wysmukły czy spłaszczony KURTOZA(x) Eksces \\(Ex\\) \\(\\alpha_4-3\\) Pozwala zidentyfikować czy rozkład jest wysmukły czy spłaszczony (porównujemy do 0) – 3.4.2 Miary pozycyjne Miara Oznaczenie Wzór Interpretacja i wykorzystanie Funkcja w Excelu Kwartyl 1 \\(Q_1\\) $$ Dzieli populację na dwie części w stosunku 25 / 75 KWARTYL.PRZEDZ.ZAMK(x,1) Kwartyl 2, Mediana \\(Q_2, Me\\) $$ Dzieli populację na dwie części w stosunku 50 / 50 KWARTYL.PRZEDZ.ZAMK(,2) lub MEDIANA(x) Kwartyl 3 \\(Q_3\\) $$ Dzieli populację na dwie części w stosunku 75 / 25 KWARTYL.PRZEDZ.ZAMK(x,3) Odchylenie ćwiartkowe \\(Q\\) \\(Q=\\frac{Q3-Q1}{2}\\) Mierzy ono przeciętne odchylenie wartości cechy zbiorowości od mediany – Pozycyjny współczynnik zmienności \\(V_Q\\) \\(\\frac{Q}{Me}\\) Mierzy przeciętne zróżnicowanie cechy – Pozycyjny współczynnik asymetrii \\(A_Q\\) \\(\\frac{Q_1+Q3-2Me}{2Q}\\) Mierzy (a)symetrię rozkładu – "],
["korelacje.html", "4 Korelacje 4.1 Cechy jakościowe 4.2 Cechy ciągłe", " 4 Korelacje Korelacja [łac.], mat. wzajemne powiązanie, współzależność zjawisk lub obiektów; w teorii prawdopodobieństwa i statystyce — współzależność liniowa zmiennych losowych (jej liczbową miara jest współczynnik korelacji) [źródło: słownik PWN]. 4.1 Cechy jakościowe Celem analizy współzależności jest określenie siły związku pomiędzy dwiema cechami jakościowymi. Sprawdźmy czy istnieje zależność pomiędzy wynikiem z egzaminu a płcią? Podstawą takiej analizy jest tablica kontyngencji albo tablica krzyżowa. W przypadku obserwacji statystycznej dotyczącej dużej ilości zmiennych, operowanie wartościami szczegółowymi jest uciążliwe. W celu stwierdzenia istnienia lub braku związku korelacyjnego konstruuje się tablicę korelacyjną. Na skrzyżowaniu kolumn z wierszami wpisuje się liczebności jednostek zbiorowości statystycznej, u których zaobserwowano jednoczesne występowanie określonej wartości \\(x_{i}\\) i \\(y_{i}\\). Ogólna postać tablicy krzyżowej jest następująca: cecha X / cecha Y \\(y_{1}\\) \\(y_{2}\\) \\(\\cdots\\) \\(y_{j}\\) \\(\\cdots\\) \\(y_{r}\\) \\(\\sum\\limits_{j}\\) \\(x_{1}\\) \\(n_{11}\\) \\(n_{12}\\) \\(\\cdots\\) \\(n_{1j}\\) \\(\\cdots\\) \\(n_{1r}\\) \\(n_{1.}\\) \\(x_{2}\\) \\(n_{21}\\) \\(n_{22}\\) \\(\\cdots\\) \\(n_{2j}\\) \\(\\cdots\\) \\(n_{2r}\\) \\(n_{2.}\\) \\(\\cdots\\) \\(\\cdots\\) \\(\\cdots\\) \\(\\cdots\\) \\(\\cdots\\) \\(\\cdots\\) \\(\\cdots\\) \\(\\cdots\\) \\(x_{i}\\) \\(n_{i1}\\) \\(n_{i2}\\) \\(\\cdots\\) \\(n_{ij}\\) \\(\\cdots\\) \\(n_{ir}\\) \\(n_{i.}\\) \\(\\cdots\\) \\(\\cdots\\) \\(\\cdots\\) \\(\\cdots\\) \\(\\cdots\\) \\(\\cdots\\) \\(\\cdots\\) \\(\\cdots\\) \\(x_{k}\\) \\(n_{k1}\\) \\(n_{k2}\\) \\(\\cdots\\) \\(n_{kj}\\) \\(\\cdots\\) \\(n_{kr}\\) \\(n_{k.}\\) \\(\\sum\\limits_{i}\\) \\(n_{.1}\\) \\(n_{.2}\\) \\(\\cdots\\) \\(n_{.j}\\) \\(\\cdots\\) \\(n_{.r}\\) \\(n\\) Jak wynika z tablicy zmienna losowa \\(X\\) przyjmuje \\(k\\) wariantów (i=1,2,…,k), zaś zmienna losowa \\(Y\\) przyjmuje \\(r\\) wariantów (j=1,2,…,r). Symbol \\(n_{.j}\\) oznacza liczbę jednostek, które mają wariant \\(y_{j}\\) zmiennej Y, natomiast symbol \\(n_{i.}\\) - liczbę jednostek, które mają wariant \\(x_{i}\\) zmiennej X. Symbole \\(n_{ij}\\) oznaczają liczbę jednostek, które posiadają jednocześnie wariant \\(x_{i}\\) cechy X i warianty \\(y_{j}\\) cechy Y. Symbol \\(n\\) oznacza liczebność próby, przy czym: \\[n=\\sum\\limits_{i=1}^{k}{n_{i.}}=\\sum\\limits_{j=1}^{r}{n_{.j}}=\\sum\\limits_{i=1}^{k}\\sum\\limits_{j=1}^{r}{n_{ij}}\\] W analizowanym przykładzie pozyskaliśmy informację od 500 osób na temat wyniku egzaminu oraz płci. Tablica krzyżowa tych danych wygląda następująco: Płeć / Wynik Nie zdany Zdany Suma Mężczyzna 100 70 170 Kobieta 130 200 330 Suma 230 270 500 Do odpowiedzi na pytanie czy istnieje zależność pomiędzy tymi cechami wykorzystamy statystykę chi-kwadrat (\\(\\chi^2\\)). Nazwę tej statystyki czytamy tak samo jak piszemy. W pierwszym kroku musimy obliczyć oczekiwane (teoretyczne) częstości dla każdej komórki czyli wartości jakie musiałyby występować, żeby zależności nie było. Wzór na liczebności teoretyczne jest następujący: \\[\\hat{n}_{ij}=\\frac{n_{i.} \\cdot n_{.j}}{n}\\] Przykładowo, liczebność teoretyczna dla mężczyzn, którzy nie zdali egzaminu to iloczyn liczby wszystkich mężczyzn i liczby wszystkich, którzy nie zdali egzaminu podzielony przez wszystkie obserwacje: \\[\\hat{n}_{11}=\\frac{170 \\cdot 230}{500}=78,2\\] Liczebności oczekiwane po wstawieniu do tabeli: Płeć / Wynik Nie zdany Zdany Suma Mężczyzna 78,2 91,8 170 Kobieta 151,8 178,2 330 Suma 230 270 500 Częstości teoretyczne nie muszą być wartościami całkowitymi, ale suma w wierszu, kolumnie i dla całej tablicy krzyżowej musi pozostać taka sama. W kolejnym kroku wyznaczamy standardowe współczynniki różnicy pomiędzy częstościami oczekiwanymi a zaobserwowanymi. Suma tych współczynników da nam wartość statystyki \\(\\chi^2\\). \\[\\chi^{2}=\\sum\\limits_{i=1}^{k}\\sum\\limits_{j=1}^{r}{\\frac{(n_{ij}-\\hat{n}_{ij})^2}{\\hat{n}_{ij}}}\\] gdzie: \\(r\\) - liczba wariantów cechy Y, \\(k\\) - liczba wariantów cechy X, \\(n_{ij}\\) - liczebności empiryczne dla i-tego wariantu cechy X i j-tego wariantu cechy Y, \\(\\hat{n}_{ij}\\) - liczebności teoretyczne dla i-tego wariantu cechy X i j-tego wariantu cechy Y. \\[\\chi^{2}=\\frac{(100-78,2)^2}{78,2}+\\frac{(70-91,8)^2}{91,8}+\\frac{(130-151,8)^2}{151,8}+\\frac{(200-178,2)^2}{178,2}=17\\] W przypadku, gdy dysponujemy tablicą o wymiarach 2x2 możemy skorzystać z prostszego sposobu wyznaczenia statystyki \\(\\chi^2\\) korzystając ze wzoru. Jeśli tablica kontyngencji jest w postaci: cecha X / cecha Y \\(y_{1}\\) \\(y_{2}\\) \\(n_{i.}\\) \\(x_{1}\\) a b a+b \\(x_{2}\\) c d c+d \\(n_{.j}\\) a+c b+d n a liczebności w komórkach większe niż 5 to wzór na chi-kwadrat jest następujący: \\[\\chi^{2}=\\frac{n \\cdot (a \\cdot d - b \\cdot c)^2}{(a+b) \\cdot (c+d) \\cdot (a+c) \\cdot (b+d)}\\] W przypadku występowania częstości mniejszych od 5 musimy zastosować wzór uwzględniający poprawkę Yatesa: \\[\\chi^{2}=\\frac{n \\cdot (|a \\cdot d - b \\cdot c| - 0,5 \\cdot n)^2}{(a+b) \\cdot (c+d) \\cdot (a+c) \\cdot (b+d)}\\] W analizowanym przypadku zależności płci i wyniku z egzaminu wartości w komórkach a, b, c i d są większe od 5, więc można wykorzystać pierwszą formułę: \\[\\chi^2=\\frac{500\\cdot(100\\cdot200-70\\cdot130)^2}{170\\cdot330\\cdot230\\cdot270}=\\frac{59405000000}{3483810000}=17\\] Sama wartość statystyki chi-kwadrat nie informuje sile zależności pomiędzy analizowanymi zmiennymi. W celu określenia siły zależności musimy wyznaczyć jedną z dostępnych miar korelacji: współczynnik V-Cramera lub współczynnik zbieżności T-Czuprowa: \\[V=\\sqrt{\\frac{\\chi^2}{n \\cdot min(k-1,r-1)}}\\] \\[T=\\sqrt{\\frac{\\chi^2}{n \\cdot \\sqrt{(k-1)(r-1)}}}\\] gdzie: \\(\\chi^2\\) - wyznaczona wartość statystyki \\(\\chi^2\\), \\(n\\) - liczba wszystkich obserwacji, \\(k\\) - liczba kolumn tabeli kontyngencji bez sumy (liczba wariantów pierwszej cechy), \\(r\\) - liczba wierszy tabeli kontyngencji bez sumy (liczba wariantów drugiej cechy). Możemy przyjąć pewne umowne progi dotyczące interpretacji tych miar: od 0,00 do 0,29 - słaby związek pomiędzy zmiennymi, od 0,30 do 0,49 - umiarkowany związek pomiędzy zmiennymi, od 0,50 do 1,00 - silny związek pomiędzy zmiennymi. W naszym przykładzie współczynnik V-Cramera jest równy współczynnikowi T-Czuprowa i wynosi \\(V=T=0,18\\), co oznacza, że pomiędzy płcią a wynikiem z egzaminu występuje słaba zależność. Miary korelacji cech jakościowych w Excelu Niestety, aktualnie w MS Excel nie ma funkcji, które umożliwiają obliczenie statystyki \\(\\chi^2\\). Istnieje natomiast funkcja CHI.TEST, która liczy statystykę \\(\\chi^2\\) ale jej nie zwraca. Informuje jedynie o istotności statystycznej, która wykracza poza zakres materiału realizowanego w ramach tych zajęć. Zadania Oceń siłę zależności pomiędzy faktem wejścia promocji, a liczbą klientów (poniżej/powyżej średniej) w sklepie numer 7. 4.2 Cechy ciągłe W przypadku cech ciągłych chcemy określić siłę oraz kierunek zależności pomiędzy dwoma zmiennymi. Silnie skorelowane ze sobą zmienne zachowują się “jak gdyby równocześnie się poruszały”. Sprawdźmy czy liczba klientów jest skorelowana ze sprzedażą w sklepie nr 1. Pierwszym krokiem w analizie korelacji jest stworzenie wykresu rozrzutu: Na tej podstawie możemy już stwierdzić, że zależność jest liniowa oraz dodatnia - wzrost wartości jednej cechy pociąga za sobą wzrost wartości drugiej cechy. Z korelacją ujemną mielibyśmy do czynienia, gdy wartości jednej cechy by rosły, a drugiej malały. Wartością liczbową, która określa kierunek korelacji jest kowariancja. Wyznaczenie kowariancji polega na policzeniu różnic wartości obu cech od średniej, a następnie ich przemnożeniu i uśrednieniu, zgodnie ze wzorem: \\[cov(x,y)=cov(y,x)=\\frac{1}{n}\\sum\\limits_{i=1}^{n}{(x_{i}-\\bar{x})\\cdot(y_{i}-\\bar{y})}\\] Jeśli kowariancja będzie: \\(cov(x,y)=0\\) — brak zależności, \\(cov(x,y)&lt;0\\) — ujemna zależność, \\(cov(x,y)&gt;0\\) — dodatnia zależność. W przypadku sklepu nr 1 kowariancja wynosi 94843, co oczywiście pociąga za sobą dodatnią zależność. Na podstawie kowariancji nie możemy natomiast wyznaczyć siły zależności ponieważ jest wyznaczona w dziwnych jednostkach - osobo-euro. Standaryzując kowariancję z wykorzystaniem odchylenia standardowego każdej cechy otrzymamy współczynnik korelacji liniowej Pearsona: \\[r_{xy}=r_{yx}=\\frac{cov(X,Y)}{S_{x}\\cdot S_{y}}\\] lub \\[r_{xy}=\\frac{\\sum\\limits_{i=1}^{n}{(x_{i}-\\bar{x})\\cdot(y_{i}-\\bar{y})}}{\\sqrt{\\sum\\limits_{i=1}^{n}{(x_{i}-\\bar{x})^2\\cdot(y_{i}-\\bar{y})^2}}}\\] Współczynnik ten jest wielkością unormowaną, przyjmuje wartości z przedziału \\(r\\in&lt;-1;1&gt;\\). Jeśli: \\(r_{xy}=1\\) — korelacja dodatnia doskonała, \\(0&lt;r_{xy}&lt;1\\) — korelacja dodatnia niedoskonała (słaba/umiarkowana/silna) \\(r_{xy}=0\\) — brak zależności, \\(-1&lt;r_{xy}&lt;0\\) — korelacja ujemna niedoskonała (słaba/umiarkowana/silna) \\(r_{xy}=-1\\) — korelacja ujemna doskonała. W sklepie nr 1 współczynnik korelacji liniowej Pearona wynosi 0.94, co oznacza, że pomiędzy wartością sprzedaży a liczbą klientów występuje silna dodatnia korelacja liniowa. W przypadku, gdy w zbiorze analizowanych cech znajdą się wartości odstające, które zaburzają liniowość relacji, współczynnik korelacji liniowej może nie spełniać swojej funkcji. Wówczas należy skorzystać ze współczynnika korelacji rang Spearmana, który jest współczynnikiem korelacji liniowej Pearsona, ale obliczanym na rangach. Rangowanie polega na posortowaniu wartości jednej cechy rosnąco - przypisanie kolejnych wartości od \\(1\\) do \\(n\\) (jak w sporcie), na następnie powtórzenie operacji dla drugiej cechy. Jeśli jakaś wartość będzie się powtarzać (ex aequo), wówczas wyznaczamy wartość tzn. rangi wiązanej - średniej arytmetycznej z rang tej wartości. W Excelu można wyznaczyć wyłącznie współczynnik korelacji liniowej Pearsona korzystając z funkcji: PEARSON(tablica1, tablica2). Korelacja nie oznacza przyczynowości - mogą występować inne czynniki będące przyczyną silnej zależności cech. Zadania Przeanalizuj sprzedaż oraz liczbę klientów w sklepie nr 7 w maju. Utwórz wykres rozrzutu oraz oblicz i zinterpretuj współczynnik korelacji liniowej Pearsona korzystając z funkcji Excela. Patrz też: Korelacja "],
["regresja.html", "5 Regresja 5.1 Regresja prosta 5.2 Trend liniowy", " 5 Regresja Metoda regresji wykorzystywana jest do funkcyjnego odwzorowania zależności pomiędzy badanymi zmiennymi. Jej celem jest poszukanie określonej klasy funkcji, która w możliwie najlepszy sposób charakteryzowałaby zależność pomiędzy zmiennymi. Funkcję tą określa się mianem funkcji regresji. Budując model chcemy osiągnąć określone cele poznawcze. 5.1 Regresja prosta Celem regresji jest określenie, na podstawie dostępnych informacji, nieznanej wartości analizowanej cechy. Znamy wartości sprzedaży oraz liczby klientów w danym sklepie Rossmann i chcielibyśmy wyznaczyć możliwy poziom sprzedaży przy danej liczbie klientów np. 1000 klientów. Podobnie jak w analizie korelacji punktem wyjścia w regresji prostej jest utworzenie wykresu rozrzutu. Ażeby móc zastosować model regresji musi występować związek korelacyjny pomiędzy zmiennymi oraz musi to być związek liniowy. Następnie na podstawie kryteriów merytorycznych określamy zmienną objaśnianą (\\(y\\)) oraz zmienną objaśniającą (\\(x\\)). W analizowanym przez nas przypadku zmienną objaśnianą będzie poziom sprzedaży (\\(y\\)), który będziemy wyjaśniać liczbą klientów (\\(x\\)). Naszym celem jest znalezienie wzoru prostej, która będzie przebiegać możliwie najbliżej wszystkich punktów wykresu. W tym celu stosuje się Klasyczną Metodę Najmniejszych Kwadratów (KMNK). Ogólna postać prostej regresji jest następująca: \\[\\hat{y}_{i}=a_{1}x_{i}+a_{0}\\] gdzie \\(y\\) z daszkiem (\\(\\hat{y}\\)) oznacza wartość teoretyczną, leżącą na wyznaczonej prostej. Wobec tego wartości empiryczne (y) będą opisane formułą: \\[y_{i}=a_{1}x_{i}+a_{0}+u_{i}\\] w której \\(u_i\\) oznacza składnik resztowy wyliczany jako \\(u_{i}=y_{i}-\\hat{y}_{i}\\). Musimy wyznaczyć współczynnik kierunkowy tej prostej (\\(a_1\\)) oraz punkt przecięcia z osią OY (\\(a_0\\)) określany mianem wyrazu wolnego. Wartości tych współczynników możemy policzyć z wykorzystaniem następujących wzorów: \\[ a_{1}=\\frac{\\sum\\limits_{i=1}^{n}{(x_{i}-\\bar{x})(y_{i}-\\bar{y})}}{\\sum\\limits_{i=1}^{n}{(x_{i}-\\bar{x})^{2}}} \\] lub znając wartość współczynnika korelacji liniowej Pearsona: \\[a_{1}=r\\frac{S_{y}}{S_{x}}\\] z kolei wartość wyrazu wolnego można uzyskać ze wzoru: \\[a_{0}=\\bar{y}-a_{1}\\bar{x}\\] gdzie: \\(r\\) — współczynnik korelacji liniowej Pearsona pomiędzy cechą \\(x\\) i \\(y\\), \\(S_y\\) — odchylenie standardowe dla cechy \\(y\\), \\(S_x\\) — odchylenie standardowe dla cechy \\(x\\), \\(\\bar{y}\\) — średnia dla cechy \\(y\\), \\(\\bar{x}\\) — średnia dla cechy \\(x\\). Na tej podstawie ustalamy, że interesująca nas prosta ma następujący wzór: \\[\\hat{y}_i=10,45x_i-1091,22\\] Współczynnik kierunkowy (\\(a_1\\)) informuje o ile przeciętne zmieni się wartość zmiennej objaśnianej (y), gdy wartość zmiennej objaśniającej (x) wzrośnie o jednostkę. W naszym przypadku wzrost liczby klientów o 1 osobę spowoduje średni wzrost sprzedaży o 10,45 euro. Z kolei wyraz wolny (\\(a_0\\)) to wartość zmiennej objaśnianej (y), w sytuacji w której wartość zmiennej objaśniającej (x) będzie równa 0. Należy zachować szczególną ostrożność przy interpretacji tego współczynnika, ponieważ często jest on pozbawiony sensu. W analizowanym przykładzie współczynnik \\(a_0\\) informuje, że przy zerowej liczbie klientów sprzedaż w sklepie nr 1 wyniesie -1091,22 euro. Kolejnym elementem analizy regresji jest ocena dopasowania modelu. W tym celu posługujemy się kilkoma miarami. Pierwszą miarą, która opisuje dopasowanie funkcji regresji do danych empirycznych jest odchylenie standardowe składnika resztowego, które jest pierwiastkiem z sumy kwadratów reszt podzielonej przez liczbę obserwacji pomniejszoną o 2. To pomniejszenie mianownika wynika z faktu, że w modelu mamy dwa współczynniki \\(a_1\\) i \\(a_0\\), które w ten sposób uwzględniamy. Formalnie można to zapisać w następujący sposób: \\[S_{u}=\\sqrt{\\frac{\\sum\\limits_{i=1}^{n}{(y_{i}-\\hat{y}_{i})^2}}{n-2}}\\] lub \\[S_{u}=\\sqrt{\\frac{\\sum\\limits_{i=1}^{n}{u_i^2}}{n-2}}\\] Miara ta określa, o ile, przeciętnie biorąc (\\(+/-\\)), wartości empiryczne zmiennej objaśnianej odchylają się od wartości teoretycznych tej zmiennej, obliczonej na podstawie funkcji regresji. W analizowanym przypadku możemy stwierdzić, że znane wartości sprzedaży odchylają się od wartości teoretycznych średnio o \\(+/-\\) 351,57 euro. Odchylenie standardowe składnika resztowego jest także miarą błędu prognozy. Przykładowo, chcemy sprawdzić jak będzie kształtować się sprzedaż przy liczbie klientów równej 1000 osób. Po podstawieniu tej wartości do funkcji regresji otrzymamy: \\[y_{1000}=10,45 \\cdot 1000 - 1091,22=9358,78\\] Na tej podstawie stwierdzamy, że przy 1000 klientów prognozowana sprzedaż wyniosłaby 9358,78 euro \\(+/-\\) 351,57 euro. Kolejna miara to współczynnik zmienności resztowej, który otrzymujemy poprzez podzielenie odchylenia standardowego składnika resztowego przez średni poziom cechy: \\[V_{u}=\\frac{S_{u}}{\\bar{y}}\\cdot 100\\%\\] Współczynnik ten wskazuje, jaki procent średniego poziomu zmiennej objaśnianej stanowią wahania losowe, których miarą jest \\(S_{u}\\). Parametr \\(V_{u}\\) jest więc miernikiem relatywnej wielkości błędu losowego. Niektórzy autorzy postulują, że błąd ten można umownie uznać za dopuszczalny, jeśli \\(V_{u}&lt;15\\%\\). Należy się jednak wystrzegać przed ,,dogmatycznym’’ podejściem do oceny modeli regresji i jedynie słusznych progów. W naszym przypadku ten współczynnik będzie równy \\(V_{u}=\\frac{351,57}{4730,72}\\cdot 100\\%=7\\%\\) co oznacza, że 7% średniego poziomu sprzedaży stanowią wahania losowe. Równie ważną miarą dopasowania funkcji regresji do danych empirycznych jest współczynnik determinacji lub bardziej potocznie współczynnik r kwadrat — od symbolu, którym jest oznaczany. Współczynnik ten obliczany jest na podstawie reszt z modelu oraz odchyleń wartości empirycznych od średniej: \\[R^2=1-\\frac{\\sum\\limits_{i=1}^{n}{(y_{i}-\\hat{y}_{i})^2}}{\\sum\\limits_{i=1}^{n}{(y_{i}-\\bar{y}_{i})^2}}\\] lub jako kwadrat współczynnika korelacji liniowej Pearsona: \\[R^2=r_{xy}^2\\] Określa, jaki procent wariancji zmiennej objaśnianej został wyjaśniony przez funkcję regresji. \\(R^2\\) przyjmuje wartości z przedziału \\(&lt;0;1&gt;\\) (\\(&lt;0\\%;100\\%&gt;\\)), przy czym model regresji tym lepiej opisuje zachowanie się badanej zmiennej objaśnianej, im \\(R^2\\) jest bliższy jedności (bliższy 100%) Analizowany przez nas model regresji jest bardzo dobry: \\(R^2=0,89\\), co oznacza, że oszacowany model regresji wyjaśnia 89% zmienności sprzedaży. Przeciwieństwem współczynnik determinacji \\(R^2\\) jest współczynnik zbieżności (indeterminacji). Tę miarę można wyznaczyć korzystając ze wzoru: \\[\\varphi^2=\\frac{\\sum\\limits_{i=1}^{n}{(y_{i}-\\hat{y}_{i})^2}}{\\sum\\limits_{i=1}^{n}{(y_{i}-\\bar{y}_{i})^2}}\\] bądź odejmując od wartości 1 wartość współczynnika \\(R^2\\): \\[\\varphi^2=1-R^2\\] Współczynnik zbieżności \\(\\varphi^2\\) określa, jaka część wariancji badanej zmiennej objaśnianej nie została wyjaśniona przez funkcję regresji. Oczywiste jest więc, że korzystna sytuacja występuje wówczas, gdy \\(\\varphi^2\\) jest bliższy zera. W przyjętym przez nas modelu regresji \\(\\phi^2=11\\%\\), co oznacza, że 11% zmienności sprzedaży nie została wyjaśniona przez funkcję regresji. Można także powiedzieć, że 11% zmienności sprzedaży stanowią czynniki losowe nie wyjaśniane przez funkcję regresji. Ostatnim elementem analizy jest ocena jakości parametrów funkcji regresji \\(a_1\\) i \\(a_0\\). Równanie regresji wyznaczyliśmy na podstawie dostępnych danych, ale nie znamy równania tej prostej w populacji. W związku z czym mogliśmy się trochę pomylić przy obliczaniu współczynników \\(a_1\\) i \\(a_0\\). W celu oceny skali tych błędów wyznacza się błędy średnie szacunku ocen parametrów funkcji regresji według wzorów: \\[S_{a_{1}}=\\frac{S_{u}}{\\sqrt{\\sum\\limits_{i=1}^{n}{(x_{i}-\\bar{x})^2}}}\\] oraz \\[S_{a_{0}}=\\sqrt{\\frac{S_{u}^{2}\\sum\\limits_{i=1}^{n}{{x_{i}^2}}}{n\\sum\\limits_{i=1}^{n}{(x_{i}-\\bar{x})^2}}}\\] Błędy te wskazują, o ile, przeciętnie biorąc (\\(+/-\\)), odchylają się oceny parametrów modelu regresji od ich wartości prawdziwych. Jest oczywiście pożądane, żeby te błędy były możliwie jak najmniejsze. W związku z powyższym przyjmuje się, że ilorazy: \\[V_{a_{1}}=\\frac{S_{a_{1}}}{a_{1}}\\] \\[V_{a_{0}}=\\frac{S_{a_{0}}}{a_{0}}\\] nie powinny przekraczać wartości 0,5 (50%) w wartości bezwzględnej. Jest to szczególnie istotne w przypadku parametru współczynnika kierunkowego \\(a_1\\), natomiast dla wyrazu wolnego \\(a_0\\) ta własność nie musi być spełniona. W analizowanym przez nas modelu wartość parametru \\(a_1\\) odchyla się od jego wartości prawdziwej o \\(+/-\\) 0,21 co stanowi 2% wartości tego parametru. Z kolei wartość parametru \\(a_0\\) odchyla się od jego wartości prawdziwej o \\(+/-\\) 119,81 co stanowi 11% wartości tego parametru. Regresja prosta w Excelu Sposób nr 1 Parametry funkcji regresji można także wyznaczyć korzystając z wbudowanej funkcji programu Excel — REGLINP. Składnia jest następująca: REGLINP(wektor_y; wektor_x; stała; statystyka) gdzie: wektor_y — zestaw wartości zmiennej objaśnianej (y), wektor_x — zestaw wartości zmiennej objaśniającej (y), stała — jeśli podamy wartość 1 to wyraz wolny jest obliczany normalnie, jeśli podamy 0 to zostanie oszacowany model bez wyrazu wolnego, statystyka — jeśli argument ma wartość 1 to funkcja REGLINP zwraca dodatkowe statystyki regresji, natomiast jeśli ma wartość 0 to funkcja zwraca tylko wartości współczynnika kierunkowego oraz wyrazu wolnego. Po napisaniu funkcji i uwzględnieniu wszystkich argumentów naciskamy ENTER — powinna pojawić się jedna wartość. Następnie należy zaznaczyć obszar 2 kolumny na 5 wiersze uwzględniając w lewej górnej komórce otrzymaną wcześniej wartość. W kolejnym kroku przechodzimy do PASKU FORMUŁY programu Excel i korzystamy z tajemnej formuły CTRL+SHIFT+ENTER. W rezultacie otrzymujemy tabelę o wymiarach 2x5, która zawiera następujące elementy: Współczynnik kierunkowy (\\(a_{1}\\)) Wyraz wolny (\\(a_{0}\\)) Średni błąd szacunku parametru (\\(S_{a_{1}}\\)) Średni błąd szacunku parametru (\\(S_{a_{0}}\\)) Współczynnik determinacji (\\(R^2\\)) Odchylenie standardowe składnika resztowego (\\(S_{u}\\)) Statystyka F (\\(F\\)) Liczba stopni swobody (\\(n-2\\)) Regresyjna suma kwadratów (\\(\\sum{(\\hat{y}-\\bar{y})^2}\\)) Suma kwadratów reszt (\\(\\sum{(y-\\hat{y})^2}\\)) Sposób nr 2 Zaznaczamy punkty na wykresie rozrzutu i klikamy prawym przyciskiem myszy. Wybieramy Dodaj linię trendu, a następnie zaznaczamy opcje Wyświetl równanie na wykresie oraz Wyświetl wartości R-kwadrat na wykresie. Sposób nr 3 Do wyznaczenia parametrów regresji można także wykorzystać graficzne środowisko analizy danych. W tych celu wybieramy zakładkę DANE i po prawej stronie ANALIZA DANYCH. W menu zaznaczamy REGRESJA i klikamy OK. W opcjach wejścia zaznaczamy: Zakres wejściowy Y — zestaw wartości zmiennej objaśnianej (y), Zakres wejściowy X — zestaw wartości zmiennej objaśniającej (x), Tytuły — jeśli zostały zaznaczone kolumny wraz z nagłówkami. W opcjach wyjścia określamy miejsce wyświetlenia wyniku: bieżący arkusz/nowy arkusz/nowy skoroszyt. W rezultacie otrzymujemy następujący wynik: PODSUMOWANIE - WYJŚCIE Statystyki regresji Wielokrotność R \\(r\\) R kwadrat \\(R^2\\) Dopasowany R kwadrat Błąd standardowy \\(S_{u}\\) Obserwacje \\(n\\) ANALIZA WARIANCJI df SS MS F Istotność F Regresja 1 \\(\\sum{(\\hat{y}-\\bar{y})^2}\\) \\(F\\) Resztkowy \\(n-2\\) \\(\\sum{(y-\\hat{y})^2}\\) Razem \\(n-1\\) Współczynniki Błąd standardowy t Stat Wartość-p Przecięcie \\(a_{0}\\) \\(S_{a_{0}}\\) zmienna x \\(a_{1}\\) \\(S_{a_{1}}\\) Zależności: Jeżeli ze wzoru na odchylenie standardowe składnika resztowego usuniemy pierwiastek to otrzymamy wariancję składnika resztowego, którą należy najpierw spierwiastkować, aby móc przeprowadzić interpretację. Jeśli bardzo chcemy policzyć wartość odchylenia standardowe składnika resztowego na podstawie wartości surowych to wartość licznika możemy odczytać z funkcji REGLINP — 5 wiersz, 2 kolumna. Wówczas wystarczy podzielić tę wartość przez 4 wiersz drugiej kolumny i spierwiastkować, aby otrzymać wartość \\(S_u\\). Podobnie postępujemy, jeśli korzystamy z narzędzia REGRESJA. Zadania Ilu klientów powinno przyjść do sklepu nr 7, żeby możliwe było osiągnięcie sprzedaży na poziomie 20000 euro? Zapisz uzyskany model, zinterpretuj parametry regresji oraz oceń jakość dopasowania. 5.2 Trend liniowy Oprócz określania nieznanych wartości cechy, regresja jest także wykorzystywana do prognozowania w czasie. Przykładowo mając dane dotyczące miesięcznej sprzedaży w roku 2014 spróbujemy określić możliwą sprzedaż w wybranym miesiącu 2015 roku. Sposób postępowania jest bardzo podobny do regresji prostej z tym, że zamiast wartości cechy \\(x\\) mamy kolejne numery okresów \\(t=1,2,3,..., n\\). Wówczas równanie trendu ma następującą postać: \\[\\hat{y}_{i}=a_{1}t_{i}+a_{0}\\] Po oszacowaniu parametrów \\(a_1\\) i \\(a_0\\) nieco inaczej je zinterpretujemy. Wartość parametru \\(a_1\\) informuje o średniej zmianie cechy \\(y\\) z okresu na okres, z kolei \\(a_0\\) to wartość wynikająca z modelu dla okresu poprzedzającego analizę. Spróbujmy określić możliwą sprzedaż w styczniu 2015 roku dla sklepu nr 7. W tym zagregowaliśmy dane do postaci miesięcznej. Model regresji ma następującą postać: \\[\\hat{y}_{i}=4850t_{i}+196592\\] Wynika z niego, że z miesiąca na miesiąc sprzedaż rosła średnio o 4850 euro. Natomiast możliwa sprzedaż w grudniu 2013 roku wynosiła 196592 euro. Ocena jakości modelu przebiega analogicznie jak w przypadku regresji prostej. Inaczej wyznacza się błąd prognozy, co wynika z faktu, że im bardziej “oddalimy” się od okresu na podstawie którego oszacowaliśmy parametry trendu, tym błąd prognozy będzie większy. Przy obliczaniu błędu prognozy korzystamy ze wzoru: \\[D(y_{T}^{P})=S_u\\sqrt{1+\\frac{1}{n}+\\frac{(T-\\bar{t})^2}{\\sum\\limits_{t=1}^{n}{(t_i-\\bar{t})^2}}}\\] gdzie: \\(S_u\\) — odchylenie standardowe składnika resztowego, \\(n\\) — liczba znanych okresów, \\(\\bar{t}\\) — średnia z numerów okresów, \\(T\\) — numer okresu, na który stawiana jest prognoza. Odchylenie standardowe składnika resztowego wynosiło 20031 euro, co oznacza, że znane wartości miesięcznej sprzedaży odchylają się od wartości wynikających z trendu średnio o \\(+/-\\) 20031 euro. Wyznaczając błąd prognozy musimy uwzględnić dodatkowy składnik uwzględniający czas. W związku z tym prognozowana sprzedaż w styczniu 2015 roku wyniesie: \\[\\hat{y}_{13}=4850\\cdot13+196592=259639\\] a błąd prognozy: \\[D(y_{13}^{P})=20031\\sqrt{1+\\frac{1}{12}+\\frac{(13-6,5)^2}{143}}=23521\\] Czyli prognozowana miesiączna sprzedaż w styczniu 2015 roku wyniesie 259 639 euro +/- 23 521 euro. Natomiast dla lutego wartość błędu prognozy będzie już większa: \\[\\hat{y}_{14}=4850\\cdot14+196592=264489\\] \\[D(y_{14}^{P})=20031\\sqrt{1+\\frac{1}{12}+\\frac{(14-6,5)^2}{143}}=24341\\] Zadania Ile wynosi prognozowana miesięczna sprzedaż (oraz błąd prognozy) w sklepie nr 5 w kwietniu 2015 roku. Zadanie egzaminacyjne Postanowiono zbadać zależność pomiędzy dzienną liczbą klientów (w tys. osób) a dziennym przychodem (w tys. zł) w pewnej sieci sklepów. W tym celu wybrano 16 sklepów (po jednym z każdego województwa), w których badano te wielkości. Analiza wykazała, że średnia liczba klientów wynosiła 1,5 tys. osób, a dziennego przychodu 40 tys. zł. Współczynnik zmienności dla liczby klientów był równy 13%, a dla przychodu 17%. Suma kwadratów reszt wynosiła 70, a współczynnik korelacji liniowej Pearsona 0,89. Wyznacz parametry funkcji regresji i zapisz jej postać. Oceń jakość otrzymanej funkcji. Ile wynosi prognozowany dzienny przychód (oraz błąd prognozy) dla sklepu obsługującego dziennie 800 osób? Rozwiązanie Dane: \\(\\bar{x}=1,5\\) \\(\\bar{y}=40\\) \\(V_x=0,13\\) \\(V_y=0,17\\) \\(\\sum{(y-\\hat{y})^2}=70\\) \\(n=16\\) \\(r=0,89\\) Na podstawie powyższych danych wyznaczamy \\(S_x=V_x\\cdot \\bar{x}=0,13\\cdot 1,5=0,195\\) oraz \\(S_y=V_y\\cdot \\bar{y}=0,17\\cdot 40=6,8\\). Następnie \\(S_u=\\sqrt{\\frac{\\sum{(y-\\hat{y})^2}}{n-2}}=\\sqrt{\\frac{70}{16-2}}=2,24\\). Na podstawie odpowiednich wzorów wyznaczamy parametry regresji: \\(a_1=r\\cdot\\frac{S_y}{S_x}=0,89\\cdot \\frac{6,8}{0,195}=31,04\\) oraz \\(a_0=\\bar{y}-a_1\\cdot\\bar{x}=40-31,04\\cdot1,5=-6,55\\). W związku z tym funkcja regresji ma następującą postać: \\[\\hat{y}=31,04\\cdot x - 6,55\\] Jakość modelu oceniamy na podstawie wartości \\(S_u\\) oraz \\(R^2=r^2=0,89^2=0,79\\). Dzienny przychód dla sklepu obsługującego dziennie 800 osób będzie wynosił \\(\\hat{y}(0,8)=31,04 \\cdot 0,8 -6,55=18,27\\) tys. zł \\(+/- 2,24\\) tys. zł. "],
["sezonowosc.html", "6 Sezonowość 6.1 Trend liniowy 6.2 Model addytywny 6.3 Model multiplikatywny 6.4 Ocena jakości 6.5 Błąd prognozy", " 6 Sezonowość Jednym z rodzajów szeregu statystycznego jest szereg czasowy, który można zdefiniować jako ciąg obserwacji jakiegoś zjawiska w kolejnych jednostkach czasu (latach, kwartałach, miesiącach). Rozważane zjawisko może podlegać pewnym prawidłowościom, których wykrycie i opis jest celem analizy szeregów czasowych. Najczęściej rozważa się cztery czynniki wpływające na rozwój zjawiska w czasie: trend (\\(T_t\\)) — długookresowe, systematyczne zmiany, jakim podlega dane zjawisko, wahania sezonowe (\\(S_t\\)) — regularne odchylenia od tendencji rozwojowej (trendu) związane np. z porami roku (warunkami klimatycznymi), wahania cykliczne (\\(C_t\\)) — związane z cyklem koniunkturalnym, wahania przypadkowe (\\(I_t\\)) — nieregularne zmiany. Analiza danych, które mogą charakteryzować się sezonowością rozpoczyna się od wizualizacji oraz estymacji parametrów modelu liniowego. W tym celu posłużymy się dwoma przykładami. Pierwszy będzie dotyczył zużycia energii elektrycznej, a drugi przewozów ładunków w Polsce - plik. Zużycie energii - dane oryginalne Przewóz ładunków - dane oryginalne W obu przypadkach dysponujemy danymi kwartalnymi za lata 2003–2005. Na pierwszy rzut oka możemy wskazać pewne prawidłowości: zużycie energii jest widocznie wyższe w drugich i czwartych kwartałach analizowanych lat. Z kolei przewozy ładunków wzrastają od kwartału pierwszego do trzeciego (w którym osiągają maksimum w danym roku), by następnie spaść. Celem analizy będzie ilościowe określenie wielkości zmian sezonowych, tak aby było możliwe prognozowanie z uwzględnieniem tych czynników. 6.1 Trend liniowy Pierwszym krokiem w analizie szeregu czasowego jest estymacja parametrów trendu liniowego. Dla przykładu pierwszego dotyczącego zużycia energii funkcja regresji przyjmuje następującą postać: \\[\\hat{y}_{t}=0,15 \\cdot t+2,99\\] w której współczynnik kierunkowy informuje o tym, że z kwartału na kwartał zużycie energii rosło przeciętnie o 0,15 MWh. Z kolei wyraz wolny równy 2,99 oznacza, że w okresie \\(t=0\\) czyli w IV kwartale 2002 roku, teoretyczne zużycie energii wynosiło 2,99 MWh. W drugim z analizowanych przykładów — przewozów ładunków — model wyglądał następująco: \\[\\hat{y}_{t}=0,38 \\cdot t+25,13\\] co oznacza, że z kwartału na kwartał przewóz ładunków wzrastał średnio o 0,38 mln ton, natomiast w IV kwartale 2002 roku modelowa wartość przewozów ładunków wynosiła 25,13 mln ton. Na podstawie wyznaczonych funkcji regresji można obliczyć wartości teoretyczne (\\(\\hat{y}_t\\)) zużycia energii oraz przewozów ładunków i pod postacią prostej przestawić na wykresie. Otrzymane wartości wynikające z funkcji trendu (\\(\\hat{y}_t\\)) mają charakter liniowy i prawdę rzecz ujmując słabo dopasowują się do danych empirycznych. Współczynnik \\(R^2\\) w przykładzie pierwszym wynosi 41%, a w przykładzie drugim tylko 37%. Ponadto, jeśli chcielibyśmy prognozować na kolejne okresy to według funkcji trendu wartości zużycia energii dla kwartałów pierwszych byłyby przeszacowane, a dla kwartałów czwartych niedoszacowane. Stąd zachodzi potrzeba uwzględnienia w modelu występowania sezonowości, którą obserwujemy w danych. Pierwszym krokiem jest identyfikacja rodzaju tej sezonowości. Może ona mieć charakter addytywny — wtedy wahania sezonowe są stałe w poszczególnych okresach (por. przykład 1) lub multiplikatywny, kiedy czynniki sezonowe są proporcjonalne do funkcji trendu (por. przykład 2). W zależności od zidentyfikowanego charakteru należy obliczyć wskaźniki sezonowości. W pierwszej kolejności rozważymy model addytywny. 6.2 Model addytywny Analizę modelu addytywnego należy rozpocząć od wyznaczenia różnic pomiędzy wartościami empirycznymi (\\(y\\)) a modelowymi (\\(\\hat{y}\\)) dla poszczególnych okresów zgodnie ze wzorem: \\[S^i_t=y_t-\\hat{y}_t\\] Następnie dla każdego z analizowanych podokresów (półroczy, kwartałów, miesięcy) oblicza się surowe wskaźniki sezonowości uśredniając wyznaczone wcześniej różnice: \\[S_i=\\frac{\\sum\\limits_{i=1}^{m}{S_t^i}}{p}\\] gdzie: \\(m\\) — liczba podokresów (półroczy, kwartałów, miesięcy), \\(p\\) — liczba analizowanych lat. W analizowanym przez nas przykładzie musimy wyznaczyć surowe wskaźniki sezonowości dla każdego kwartału. Ponadto jeśli spełniona będzie zależność \\(\\sum\\limits_{i=1}^{m}{S_i}=0\\) to oznacza, że wskaźniki sezonowości są wolne od wahań przypadkowych. W praktyce jednak rzadko zdarza się taka sytuacja. W takim przypadku należy jeszcze wyznaczyć współczynnik korygujący zgodnie z wzorem: \\[k=\\frac{\\sum\\limits_{i=1}^{m}{S_i}}{m}\\] a następnie skorygować surowe wskaźniki sezonowości według formuły \\[So_{i}=S_i-k\\] otrzymując tzw. oczyszczone wskaźniki sezonowości, które informują o średnich odchyleniach od funkcji trendu w poszczególnych podokresach. Dla tych wskaźników zachodzi zależność: \\(\\sum\\limits_{i=1}^{m}{So_{i}}=0\\). W przykładzie 1 oczyszczone wskaźniki sezonowości dla poszczególnych kwartałów są równe: Wskaźnik Wartość Interpretacja \\(So_{1}\\) -0,62 w pierwszych kwartałach lat 2003–2005 zużycie energii było mniejsze średnio o 0,62 MWh niż wynika to z funkcji trendu \\(So_{2}\\) 0,33 w drugich kwartałach lat 2003–2005 zużycie energii było większe średnio o 0,33 MWh niż wynika to z funkcji trendu \\(So_{3}\\) -0,51 w trzecich kwartałach lat 2003–2005 zużycie energii było mniejsze średnio o 0,51 MWh niż wynika to z funkcji trendu \\(So_{4}\\) 0,81 w czwartych kwartałach lat 2003–2005 zużycie energii było większe średnio o 0,81 MWh niż wynika to z funkcji trendu Suma 0,00 wskaźniki sezonowości są wolne od wahań przypadkowych Kolejnym etapem analizy jest wyznaczenie zmodyfikowanych wartości teoretycznych uwzględniających sezonowość. Te wartości oznaczane jako \\(\\hat{y}^*\\) uzyskujemy dodając do wartości teoretycznych (\\(\\hat{y}\\)) odpowiednie dla poszczególnych podokresów oczyszczone wskaźniki sezonowości \\(So_i\\). Formalny zapis jest następujący: \\[\\hat{y}^*=\\hat{y}+So_i\\] Wartości \\(\\hat{y}^*\\) przedstawione na wykresie już znacznie lepiej pasują do posiadanych danych empirycznych: Zużycie energii - trend z sezonowością Na podstawie tak zmodyfikowanego modelu można prognozować przyszłe wartości z dużo większą precyzją. Prognozowanie w modelu addytywnym polega na podstawieniu numeru okresu dla którego się prognozuje do funkcji trendu, a następnie dodanie odpowiedniego wskaźnika sezonowości: \\[\\hat{y}_{T}^{P}=\\hat{y} + So_i=a_1 \\cdot T + a_0 + So_i\\] Interesuje nas prognozowane zużycie energii w IV kwartale 2008 roku. Ten okres przyjmuje wartość \\(t=24\\), natomiast wskaźnik sezonowości dla czwartego kwartału jest równy 0,81 MWh. Powyższe wartości podstawiamy do wzoru: \\[\\hat{y}_{24}^{P}=0,15 \\cdot 24 + 2,99 + 0,81 = 7,4\\] co oznacza, że prognozowane zużycie energii w IV kwartale 2008 roku wyniesie 7,4 MWh. 6.3 Model multiplikatywny W modelu multiplikatywnym zamiast różnic pomiędzy wartościami teoretycznymi a modelowymi oblicza się ich iloraz zgodnie ze wzorem: \\[S^i_t=\\frac{y_t}{\\hat{y}_t}\\] Następnie dla każdego z analizowanych podokresów (półroczy, kwartałów, miesięcy) oblicza się surowe wskaźniki sezonowości uśredniając wyznaczone wcześniej ilorazy: \\[S_i=\\frac{\\sum\\limits_{i=1}^{m}{S_t^i}}{p}\\] gdzie: \\(m\\) — liczba podokresów (półroczy, kwartałów, miesięcy), \\(p\\) — liczba analizowanych lat. W analizowanym przez nas przykładzie musimy wyznaczyć surowe wskaźniki sezonowości dla każdego kwartału. W przypadku sezonowości multiplikatywnej zależność oznaczająca, że wskaźniki sezonowości są wolne od wahań przypadkowych jest wyrażona następująco: \\(\\sum\\limits_{i=1}^{m}{S_i}=m\\). W praktyce jednak rzadko zdarza się taka sytuacja. W takim przypadku należy jeszcze wyznaczyć współczynnik korygujący zgodnie z wzorem: \\[k=\\frac{\\sum\\limits_{i=1}^{m}{S_i}}{m}\\] a następnie skorygować surowe wskaźniki sezonowości według formuły \\[So_{i}=S_i/k\\] otrzymując tzw. oczyszczone wskaźniki sezonowości, które informują o średnich odchyleniach od funkcji trendu w poszczególnych podokresach. Dla tych wskaźników zachodzi zależność: \\(\\sum\\limits_{i=1}^{m}{So_{i}}=m\\). W przykładzie 2 oczyszczone wskaźniki sezonowości możemy zapisać w postaci procentowej i dla poszczególnych kwartałów są równe: Wskaźnik Wartość Interpretacja \\(So_{1}\\) 96,5% w pierwszych kwartałach lat 2003–2005 rzeczywiste przewozy były średnio o 3,5% niższe niż wynika to z funkcji trendu \\(So_{2}\\) 100,1% w drugich kwartałach lat 2003–2005 rzeczywiste przewozy były średnio o 0,1% wyższe niż wynika to z funkcji trendu \\(So_{3}\\) 108,9% w trzecich kwartałach lat 2003–2005 rzeczywiste przewozy były średnio o 8,9% wyższe niż wynika to z funkcji trendu \\(So_{4}\\) 94,5% w czwartych kwartałach lat 2003–2005 rzeczywiste przewozy były średnio o 5,5% niższe niż wynika to z funkcji trendu Suma 400,00% wskaźniki sezonowości są wolne od wahań przypadkowych Kolejnym etapem analizy jest wyznaczenie zmodyfikowanych wartości teoretycznych uwzględniających sezonowość. Te wartości oznaczane jako \\(\\hat{y}^*\\) uzyskujemy mnożąc wartości teoretyczne (\\(\\hat{y}\\)) odpowiednie dla poszczególnych podokresów przez oczyszczone wskaźniki sezonowości \\(So_i\\). Formalny zapis jest następujący: \\[\\hat{y}^*=\\hat{y} \\cdot So_i\\] Wartości \\(\\hat{y}^*\\) przedstawione na wykresie już znacznie lepiej pasują do posiadanych danych empirycznych: Przewóz ładunków - trend z sezonowością Na podstawie tak zmodyfikowanego modelu można prognozować przyszłe wartości z dużo większą precyzją. Prognozowanie w modelu multiplikatywnym polega na podstawieniu numeru okresu dla którego się prognozuje do funkcji trendu, a następnie przemnożenie przez odpowiedni wskaźnik sezonowości: \\[\\hat{y}_{T}^{P}=\\hat{y} \\cdot So_i=(a_1 \\cdot T + a_0) \\cdot So_i\\] Interesuje nas prognozowane zużycie energii w III kwartale 2006 roku. Ten okres przyjmuje wartość \\(t=15\\), natomiast wskaźnik sezonowości dla kwartału trzeciego jest równy 108,9%. Powyższe wartości podstawiamy do wzoru: \\[\\hat{y}_{15}^{P}=(0,38 \\cdot 15 + 25,13) \\cdot 108,9\\% = 33,6\\] co oznacza, że prognozowane przewozy ładunków w III kwartale 2006 roku wyniosą 33,6 mln ton. 6.4 Ocena jakości Ostatnim elementem analizy sezonowości jest ocena jakości otrzymanego modelu. W takim przypadku nie wyznaczamy współczynnika \\(R^2\\) ponieważ z definicji dotyczy on wyłącznie zależności liniowej. Główną miarą jakości będzie odchylenie standardowe składnika resztowego z uwzględnieniem sezonowości: \\[S_u^*=\\sqrt{\\frac{\\sum\\limits_{t=1}^{n}{(y_t-\\hat{y}_t^*)^2}}{n-2}}\\] Licznik odchylenia standardowego zawiera sumę kwadratów odchyleń wartości empirycznych (\\(y_t\\)) od wartości modelowych z sezonowością (\\(\\hat{y}_t^*\\)). Nie ma już tutaj znaczenia czy model był addytywny czy multiplikatywny. W przykładzie pierwszym \\(S_u^*\\) wynosiło 0,16 MWh, co oznacza, że rzeczywiste zużycie energii różni się od zużycia teoretycznego wyznaczonego na podstawie szeregu czasowego średnio o +/- 0,16 MWh. Z kolei w przykładzie drugim \\(S_u^*\\) wynosiło 0,74 mln ton, a co za tym idzie rzeczywiste przewozy różnią się od przewozów teoretycznych uzyskanych w oparciu o model szeregu czasowego średnio o +/- 0,74 mln ton. 6.5 Błąd prognozy Wyliczona wartość \\(S_u^*\\) niezbędna jest przy wyznaczaniu błędu prognozy zgodnie ze wzorem: \\[D(y_{T}^{P})=S_u^{*}\\sqrt{1+\\frac{1}{n}+\\frac{(T-\\bar{t})^2}{\\sum\\limits_{t=1}^{n}{(t-\\bar{t})^2}}}\\] w którym uwzględniamy możliwość wzrostu tego błędu wraz z oddalaniem się od zakresu danych, które posiadamy. Dla analizowanych przykładów otrzymano następujące błędy prognozy: przykład 1 — zużycie energii Przy prognozie dla IV kwartału 2008 roku \\[D(y_{24}^{P})=0,29\\] co oznacza, że prognozowane zużycie energii w IV kwartale 2008 roku wyniesie 7,4 +/- 0,29 MWh. - przykład 2 — przewóz ładunków Przy prognozie dla III kwartału 2006 roku \\[D(y_{24}^{P})=0,93\\] co oznacza, że prognozowane przewozy w III kwartale 2006 roku wyniosą 33,6 +/- 0,93 mln ton. Na podstawie otrzymanych prognoz oraz ich błędów można wyznaczyć przedziały, w których spodziewamy się wartości rzeczywistej. "],
["analiza-szeregu-dynamicznego.html", "7 Analiza szeregu dynamicznego 7.1 Przyrosty absolutne 7.2 Przyrosty względne 7.3 Indeksy 7.4 Średnie tempo zmian", " 7 Analiza szeregu dynamicznego Badanie szeregu dynamicznego umożliwia dokładne określenie zmian jakie zachodzą w kolejnych okresach. Za przykład posłuży sprzedaż piwa w województwie wielkopolskim w kolejnych okresach. miesiac liczba_sztuk 1 2113 2 1991 3 2084 4 2775 5 2594 6 2654 7 2771 8 2983 7.1 Przyrosty absolutne Odejmowanie dwóch wielkości liczbowych daje w wyniku dodatni lub ujemny przyrost absolutny (bezwzględny). Przyrosty mogą być obliczane w stosunku do jednego okresu (momentu) lub też okresu (momentu) stale zmieniającego się. Jeśli poszczególne wyrazy szeregu dynamicznego oznaczymy przez: \\[y_1, y_2, y_3, ..., y_n\\] to ciąg przyrostów absolutnych o podstawie stałej \\(y_1\\) (jednopodstawowych) przedstawia się następująco: \\[y_2-y_1, y_3-y_1, ..., y_{n-1}-y_1, y_n-y_1\\] Natomiast ciąg przyrostów absolutnych o podstawie zmiennej (łańcuchowych) ma postać: \\[y_2-y_1, y_3-y_2, ..., y_{n-1}-y_{n-2}, y_n-y_{n-1}\\] Przyrosty absolutne informują o tym, o ile jednostek wzrósł (znak plus) lub zmalał (znak minus) poziom badanego zjawiska w okresie (momencie) badanym w porównaniu z okresem (momentem) przyjętym za podstawę. Przyrosty absolutne są wyrażone w tych samych jednostkach miary co badane zjawisko. Przyrosty absolutne o podstawie w maju oraz przyrosty absolutne łańcuchowe przedstawione są w tabeli. miesiac liczba_sztuk Paj Pal 1 2113 -481 NA 2 1991 -603 -122 3 2084 -510 93 4 2775 181 691 5 2594 0 -181 6 2654 60 60 7 2771 177 117 8 2983 389 212 Na podstawie przyrostów absolutnych jednopodstawowych stwierdzamy, że sprzedaż piwa w lutym była o 603 sztuki mniejsza w porównaniu do maja. Z kolei przyrosty absolutne łańcuchowe informują o tym, że lipcu liczba sprzedanych piw była większa o 117 sztuk w porówaniu do czerwca. 7.2 Przyrosty względne Iloraz przyrostów absolutnych zjawiska i jego poziomu w okresie (momencie) przyjętym za podstawę porównań nazywamy przyrostem względnym. Ciąg wartości przyrostów względnych o stałej podstawie \\(y_1\\) (jednopodstawowych) jest następujący: \\[\\frac{y_2-y_1}{y_1}, \\frac{y_3-y_1}{y_1}, ..., \\frac{y_{n-1}-y_1}{y_1}, \\frac{y_n-y_1}{y_1}\\] Ciąg wartości przyrostów względnych o podstawie zmiennej (łańcuchowych) ma postać: \\[\\frac{y_2-y_1}{y_1}, \\frac{y_3-y_2}{y_2}, ..., \\frac{y_{n-1}-y_{n-2}}{y_{n-2}}, \\frac{y_n-y_{n-1}}{y_{n-1}}\\] Przyrosty względne wyrażane są w procentach. Informują o ile wyższy lub niższy jest poziom badanego zjawiska w danym okresie w stosunku do okresu przyjętego za podstawę (przyrosty względne jednopodstawowe) lub w stosunku do okresu bezpośrednio poprzedzającego (przyrosty względne łańcuchowe). Przyrosty względne mogą być wartościami dodatnimi, ujemnymi lub równymi zero. Określane są niekiedy mianem wskaźników tempa przyrostu. miesiac liczba_sztuk Pwj Pwl 1 2113 -18.54 NA 2 1991 -23.25 -5.77 3 2084 -19.66 4.67 4 2775 6.98 33.16 5 2594 0.00 -6.52 6 2654 2.31 2.31 7 2771 6.82 4.41 8 2983 15.00 7.65 Na podstawie przyrostów względnych jednopodstawowych stwierdzamy, że sprzedaż piwa w lutym była o 22,25% mniejsza w porównaniu do maja. Z kolei przyrosty względne łańcuchowe informują o tym, że lipcu liczba sprzedanych piw była większa o 4,41% w porówaniu do czerwca. 7.3 Indeksy Indeksem (wskaźnikiem dynamiki) nazywamy każdą liczbę względną powstałą przez podzielenie wielkości danego zjawiska w okresie badanym (sprawozdawczym) przez wielkość tego zjawiska w okresie podstawowym (bazowym). Jeżeli poziom zjawiska w okresie (momencie) badanym oznaczymy symbolem \\(y_1\\), a w okresie podstawowym symbolem \\(y_0\\), to ogólny wzór na indeks przyjmie postać: \\(i=\\frac{y_1}{y_0}\\). Indeks jest wielkością niemianowaną i może być wyrażony w ułamku lub w procentach. Jeżeli indeks przyjmie wartość z przedziału \\(0 \\leq i &lt; 1\\), świadczy to o spadku poziomu zjawiska w okresie badanym w stosunku do okresu podstawowego. Większa od 1 (lub od 100%) wartość indeksu informuje o wzroście poziomu zjawiska w okresie badanym w porównaniu z okresem podstawowym. Wreszcie indeks równy 1 oznacza, że poziomy zjawiska w okresach badanym i podstawowym są takie same. Ciąg indeksów o stałej podstawie \\(y_1\\) (jednopodstawowych) można zapisać: \\[\\frac{y_1}{y_1}, \\frac{y_2}{y_1}, ..., \\frac{y_{n-1}}{y_1}, \\frac{y_n}{y_1}\\] Ciąg indeksów o podstawie zmiennej (łańcuchowych) ma postać: \\[\\frac{y_2}{y_1}, \\frac{y_3}{y_2}, ..., \\frac{y_{n-1}}{y_{n-2}}, \\frac{y_n}{y_{n-1}}\\] Między przyrostami względnymi a indeksami istnieje ścisły związek. Indeksy jednopodstawowe można otrzymać z przyrostów względnych o podstawie stałej poprzez dodanie 100 (lub jedności, jeśli posługujemy się ułamkami, a nie wielkościami procentowymi). W analogiczny sposób można dokonać przejścia z indeksów łańcuchowych na przyrosty względne łańcuchowe. Oczywiście można dokonać również operacji odwrotnej, tzn. zamienić indeksy na przyrosty względne. miesiac liczba_sztuk Ij Il 1 2113 81.46 NA 2 1991 76.75 94.23 3 2084 80.34 104.67 4 2775 106.98 133.16 5 2594 100.00 93.48 6 2654 102.31 102.31 7 2771 106.82 104.41 8 2983 115.00 107.65 W praktyce badań statystycznych częściej wykorzystuje się indeksy niż przyrosty względne. Na indeksach wygodniej jest bowiem dokonywać określonych przekształceń i działań algebraicznych. Działania, jakie mogą być dokonywane na indeksach, sprowadzają się w zasadzie do zamiany indeksów jednopodstawowych na łańcuchowe i odwrotnie oraz do zmiany podstawy w szeregu indeksów o podstawie stałej. Zamiany indeksów jednopodstawowych na łańcuchowe dokonuje się poprzez dzielenie indeksów jednopodstawowych przez siebie: \\[\\frac{y_i}{y_1}/\\frac{y_{i-1}}{y_1}=\\frac{y_i}{y_{i-1}}\\] W praktyce indeksy łańcuchowe na podstawie indeksów jednopodstawowych liczymy tak samo jak zwykłe indeksy łańcuchowe, tylko zamiast wartości bezwzględnych podstawiamy wartości indeksów jednopodstawowych. Zamiany indeksów łańcuchowych na jednopodstawowe dokonuje się według następujących zasad: indeks jednopodstawowy w okresie przyjętym za podstawę wynosi 100%; indeks jednopodstawowy w okresie następującym bezpośrednio po okresie przyjętym za podstawę jest taki sam jak indeks łańcuchowy; dalsze indeksy jednopodstawowe po okresie przyjętym za podstawę otrzymujemy, mnożąc wyznaczony indeks jednopodstawowy z okresu wcześniejszego przez indeks łańcuchowy dla analizowanego okresu; indeksy jednopodstawowe przed okresem podstawowym są ilorazem indeksu jednopodstawowego z okresu następnego oraz indeksu łańcuchowego z okresu następnego. Zmiany podstawy w indeksach jednopodstawowych dokonuje się poprzez dzielenie poszczególnych indeksów przy danej podstawie przez indeks jednopodstawowy tego okresu, który przyjmuje się za nową podstawę. Innymi słowy, indeks jednopodstawowy o nowej podstawie liczymy w taki sam sposób jak byśmy liczyli indeks jednopodstawowy na podstawie wartości bezwzględnych, ale zamiast nich podstawiamy wartości indeksów jednopodstawowych. 7.4 Średnie tempo zmian Indeksy jednopodstawowe i łańcuchowe pozwalają na ocenę zmian badanego zjawiska między dwoma wyróżnionymi okresami (momentami). Często jednak zachodzi konieczność oceny zmian danego zjawiska w całym okresie objętym obserwacją. Do tego celu wykorzystuje się średnią geometryczną. Średnia geometryczna jest pierwiastkiem \\(n\\)-tego stopnia z iloczynu \\(n\\) zmiennych. Średnie tempo zmian zjawisk ujętych w formie szregów czasowych oblicza się najczęściej na podstawie indeksów łańcuchowych. Ponieważ z \\(n\\) wielkości absolutnych można utworzyć \\(n-1\\) indeksów łańcuchowych, przez to wzór na średnią geometryczną indeksów łańcuchowych przyjmuje postać: \\[\\bar{y}_g=\\sqrt[n-1]{\\frac{y_2}{y_1}\\cdot\\frac{y_3}{y_2}\\cdot\\frac{y_4}{y_3}\\cdot...\\cdot\\frac{y_{n-1}}{y_{n-2}}\\cdot\\frac{y_n}{y_{n-1}}}=\\sqrt[n-1]{\\prod_{i=2}^{n}{\\frac{y_i}{y_{i-1}}}}=\\sqrt[n-1]{\\frac{y_n}{y_1}}\\] Średnie tempo zmian wyrażone w procentach określa, jaki jest przeciętny okresowy przyrost procentowy analizowanego zjawiska w badanym przedziale czasowym. Średnia geometryczna indeksów łańcuchowych sprzedanych piw wynosi 105.05%, co oznacza, że liczba sprzedanych piw w województwie wielkopolskim rosła z miesiąca na miesiąc przeciętnie o 5.05%. Obliczone średnie tempo zmian można wykorzystać w celach prognostycznych. Zakładając, że w kolejnych okresach badane zjawisko będzie rozwijać się w dotychczasowym tempie: \\[y_T=y_n\\cdot \\bar{y}_{g}^{(T-n)}\\] gdzie: \\(T\\) — numer okresu prognozowanego, \\(n\\) — numer ostatniego okresu. Przeprowadzenie szacunku z wykorzystaniem powyższej metody wymaga jednak, by dotychczasowy rozwój tej zmiennej był jednokierunkowy i nie podlegał zbyt dużej zmienności. Stosując tę regułę nie można ustalić błędu prognozy. Zakładając, że we wrześniu popyt na piwo nie spadnie, prognozowana sprzedaż wyniesie 3134 sztuk. Znając wartość cechy w ostatnim okresie możemy, z wykorzystaniem indeksów łańcuchowych, odtworzyć wartości cechy dla okresów wcześniejszych dzieląc wartość cechy przez indeks łańcuchowy. Zadania Na podstawie danych dotyczących liczby sprzedanych sztuk piwa w województwie mazowieckim: oblicz średnie tempo zmian i je zinterpretuj o ile procent zmieniła się sprzedaż piwa w marcu w porównaniu do czerwca? jaka jest prognozowana sprzedaż piwa w październiku? Wyznacz indeksy łańcuchowe dla liczby sprzedanych sztuk piwa w sklepach sieci detalicznej. Wyłącznie na ich podstawie określ: o ile procent zmieniła się sprzedaż piwa w sierpniu w porównianiu do czerwca? sprzedaż piwa w listopadzie wiedząc, że w sierpniu sprzedano 4146 sztuk ile wynosiła sprzedaż piwa w lutym? w których miesiącach sprzedaż piwa była mniejsza niż w miesiącu poprzedzającym? "],
["indeksy-indywidualne-i-zespoowe.html", "8 Indeksy indywidualne i zespołowe 8.1 Indeksy indywidualne 8.2 Indeksy zespołowe (agregatowe) 8.3 Przykład", " 8 Indeksy indywidualne i zespołowe Indeksy indywidualne i zespołowe umożliwiają ocenę zmian w dwóch różnych okresach uwzględniając stałą ilość bądź wartość dla danego koszyka produktów. Najbardziej znanym przykładem indeksu zespołowego jest wskaźnik cen towarów i usług konsumpcyjnych czyli miara inflacji/deflacji. 8.1 Indeksy indywidualne Indeksem indywidualnym nazywamy stosunek poziomów tego samego pojedynczego zjawiska z dwóch różnych okresów (momentów). W statystyce społeczno-ekonomicznej rozpatruje się zwykle trzy rodzaje indywidualnych wskaźników dynamiki, a mianowicie: indeksy cen, ilości i wartości. Indeks indywidualny cen wyraża relację poziomu cen określonego dobra w okresie badanym i w okresie podstawowym, co można zapisać następująco: \\[i_p=\\frac{p_1}{p_0}\\] gdzie: \\(i_p\\) — indywidualny indeks cen, \\(p_1\\) — cena jednostki wyrobu w okresie badanym, \\(p_0\\) — cena jednostki wyrobu w okresie podstawowym. Indeks indywidualny ilości oblicza się jako stosunek ilości określonego wyrobu wytworzonego w okresie badanym i w okresie podstawowym: \\[i_q=\\frac{q_1}{q_0}\\] gdzie: \\(i_q\\) — indywidualny indeks ilości, \\(q_1\\) — ilość wyrobu wyprodukowanego w okresie badanym, \\(q_0\\) — ilość wyrobu wyprodukowanego w okresie podstawowym. Iloczyn ilości wyrobu wytworzonego w okresie badanym i ceny tego wyrobu z okresu badanego daje w wyniku wartość wyrobu w okresie badanym. Podobnie wylicza się wartość wyrobu w okresie podstawowym. W związku z tym indywidualny indeks wartości to iloraz wartości wyrobu wytworzonego w okresie badanym i w okresie podstawowym: \\[i_w=\\frac{q_1p_1}{q_0p_0}=\\frac{w_1}{w_0}\\] gdzie: \\(i_w\\) — indywidualny indeks wartości, \\(w_1\\) — wartość wyrobu w okresie badanym, \\(w_0\\) — wartość wyrobu w okresie podstawowym. Indywidualne indeksy cen, ilości i wartości informują o zmianie (wzroście lub spadku) tych wielkości w okresie badanym w porównaniu z okresem przyjętym za podstawę porównań. Między indywidualnymi indeksami cen, ilości i wartości obliczonymi dla tego samego produktu zachodzi następujący związek: \\[i_w=i_pi_q\\] Relacja określona powyższym wzorem nosi nazwę równości indeksowej dla indeksów indywidualnych. W przypadku gdy nie dysponujemy informacjami wyjściowymi, równość indeksowa umożliwia — przy znajomości dowolnej pary spośród trzech indeksów — obliczenie trzeciego indeksu. 8.2 Indeksy zespołowe (agregatowe) W praktyce badań statystycznych niejednokrotnie zachodzi potrzeba obliczenia indeksów dotyczących nie indywidualnych jednostek, ale całego zespołu (agregatu, zbioru) jednostek. Do badania dynamiki całego zespołu zjawisk — zwykle niejednorodnych i bezpośrednio niesumowalnych — stosowane są indeksy zespołowe (agregatowe). Konstrukcja indeksów zespołowych opiera się na wykorzystaniu określonych współczynników przeliczeniowych, odgrywających rolę wag. Rolę wag najczęściej spełniają ceny lub ilości. Agregatowy indeks wartości określonego zespołu artykułów jest ilorazem sum wartości badanych dóbr w okresie badanym i w okresie podstawowym: \\[I_w=\\frac{\\sum q_1p_1}{\\sum q_0p_0}\\] gdzie: \\(I_w\\) — agregatowy indeks wartości badanego zespołu artykułów, \\(\\sum q_1p_1\\) — suma wartości badanego zespołu w okresie badanym, \\(\\sum q_0p_0\\) — suma wartości badanego zespołu w okresie podstawowym. Agregatowy indeks wartości wyraża zmiany, jakie nastąpiły w okresie badanym w porównaniu z okresem podstawowym zarówno w ilościach określonego zespołu artykułów, jak i w ich cenach. W celu obliczenia siły i kierunku zmian wyłącznie ilości lub wyłącznie cen wyrobów wschodzących w skład agregatu buduje się agregatowe indeksy ilości i agregatowe indeksy cen. Do uzyskania agregatowego indeksu ilości unieruchamiane (ustalane na stałym poziomie) są ceny, natomiast do uzyskania agregatowego indeksu cen unieruchamiane są ilości. Każdy z tych indeksów może być wyliczony w oparciu o dwie formuły — Laspeyresa i Paaschego. W indeksie Laspeyresa unieruchamia się ilość lub cenę na poziomie okresu podstawowego, natomiast we wzorze Paaschego stała jest ilość bądź cena na poziomie okresu badanego. Agregatowy indeks ilości Laspeyresa ma postać: \\[I_q^L=\\frac{\\sum q_1p_0}{\\sum q_0p_0}\\] Agregatowy indeks ilości Paaschego oblicza się następująco: \\[I_q^P=\\frac{\\sum q_1p_1}{\\sum q_0p_1}\\] Agregatowe indeksy ilości informują o tym, o ile — przeciętnie biorąc — wzrosła lub zmalała ilość określonego zbioru artykułów w okresie badanym w porównaniu z odpowiednim okresem podstawowym. Agregatowy indeks cen Laspeyresa ma postać: \\[I_p^L=\\frac{\\sum q_0p_1}{\\sum q_0p_0}\\] Agregatowy indeks cen Paaschego oblicza się następująco: \\[I_p^P=\\frac{\\sum q_1p_1}{\\sum q_1p_0}\\] Agregatowe indeksy cen odpowiadają na pytanie, jak zmieniły się — przeciętnie biorąc — ceny danego zbioru artykułów w okresie badanym w porównaniu z okresem podstawowym, przy unieruchomieniu ilości w obu okresach, zgodnie z przyjętą formułą. W przypadku niezbyt odległych okresów porównawczych (tzn. okresu podstawowego i badanego) obliczane są też agregatowe indeksy cen i ilości według formuły Fishera. Agregatowy indeks ilości Fishera wyrażony jest formułą: \\[I_q^F=\\sqrt{I_q^L \\cdot I_q^P}\\] Agregatowy indeks cen Fishera oblicza się następująco: \\[I_p^F=\\sqrt{I_p^L \\cdot I_p^P}\\] Agregatowe indeksy cen i ilości Fishera informują o tym, o ile — przeciętnie biorąc — wzrosła lub zmalała ilość lub cena określonego zbioru artykułów w badanym okresie. Pomiędzy agregatowymi indeksami wartości, cen i ilości zachodzą następujące związki: \\[I_w = I_p^L \\cdot I_q^P = I_p^P \\cdot I_q^L = I_p^F \\cdot I_q^F\\] Związek określony powyższą relacją nosi nazwę równości indeksowej dla indeksów agregatowych (zespołowych). Jeśli dysponujemy informacjami o poziomach dwóch spośród trzech omawianych indeksów agregatowych, to możemy obliczyć wielkość trzeciego indeksu. 8.3 Przykład W tabeli zebrano informacje na temat sprzedaży piwa (w sztukach) oraz średniej ceny (w zł) z trzech browarów w dwóch kolejnych miesiącach. styczeń luty Browar p0 q0 p1 q1 Carlsberg 2,30 5009 2,28 4437 Kompania Piwowarska 2,69 5806 2,63 5882 Zywiec 2,51 7934 2,45 7613 Jak zmieniła się wartość sprzedanych piw w porównywanych okresach? Jaki wpływ na zmianę wartości miała dynamika cen, a jaki dynamika ilości sprzedawanych piw? W kolejnej tablicy przedstawione są wyniki obliczeń pomocniczych: Piwo q0p0 q1p1 q0p1 q1p0 Carlsberg 11526,95 10133,76 11440,17 10210,64 Kompania Piwowarska 15590,44 15456,79 15257,08 15794,52 Zywiec 19909,22 18671,07 19458,33 19103,72 Razem 47026,62 44261,62 46155,57 45108,88 Podstawiając odpowiednie wartości do wzoru na agregatowy indeks wartości, otrzymujemy: \\[I_w=\\frac{44261,62}{47026,62} \\cdot 100\\%=94,12\\%\\] Otrzymany wynik oznacza, że łączna wartość piw ze wszystkich trzech browarów w lutym jest o 5,88% niższa od wartości ze stycznia. Spadek wartości o 5,88% spowodowany jest zmianami cen i ilości produkowanych wyrobów. Agregatowe indeksy ilości Laspeyresa i Paaschego są równe: \\[I_q^L=\\frac{45108,88}{47026,62} \\cdot 100\\% = 95,92\\%\\] \\[I_q^P=\\frac{44261,62}{46155,57} \\cdot 100\\% = 95,90\\%\\] Agregatowy indeks ilości Laspeyresa informuje o tym, że sprzedaż piw z trzech browarów łącznie w lutym w porównaniu ze styczniem spadła o 4,08%, przy założeniu, że ceny w lutym były takie same jak w styczniu. Agregatowy indeks ilości obliczony według formuły Paaschego wskazuje, że sprzedaż piw z trzech browarów łącznie w lutym spadła — w porównaniu ze styczniem — o 4,10% przy stałych cenach z lutego. Agregatowe indeksy cen Laspeyresa i Paaschego wynoszą: \\[I_p^L=\\frac{46155,57}{47026,62} \\cdot 100\\% = 98,15\\%\\] \\[I_p^P=\\frac{44261,62}{45108,88} \\cdot 100\\% = 98,12\\%\\] Agregatowy indeks cen Laspeyresa oznacza, że — przeciętnie biorąc — cena piwa składających się na badany agregat spadły w lutym w porównaniu do stycznia o 1,85%, przy zachowaniu umownego założenia, że w lutym sprzedano te same ilości każdego piwa co w styczniu. Agregatowy indeks cen Paaschego informuje o tym, że ceny badanych piw w lutym spadły — średnio biorąc — w porównaniu ze stycznie o 1,88%, przy założeniu, że w styczniu roku sprzedano te same ilości piwa co w lutym. Agregatowe indeksy cen i ilości przy zastosowaniu formuły Fishera są równe: \\[I_q^F=\\sqrt{0,9592 \\cdot 0,9590} = 0,9591 \\cdot 100\\% = 95,91\\%\\] \\[I_p^F=\\sqrt{0,9815 \\cdot 0,9812} = 0,9813 \\cdot 100\\% = 98,13\\%\\] Agregatowy indeks ilości Fishera oznacza, że ilość sprzedanych piw spadła w lutym w porównaniu do stycznia średnio o 4,09%. Agregatowy indeks cen Fishera informuje o tym, że ceny sprzedanych piw spadły w lutym w porównaniu do stycznia średnio o 1,87%. Zadania Przeprowadź wszechstronną analizę dynamiki cen i ilości w sklepach typu dyskont, hypermarket, sieci detalicznej, spożywczych oraz supermarketach w miesiącach maj i lipiec. Wartość produkcji dwóch wyrobów trwałego użytku w Polsce w latach 2004-2005 przedstawia następująca tabela. Wiedząc, że łączna wartość sprzedaży tych dóbr w 2004 wynosiła 262479 mln zł, scharakteryzuj jej dynamikę, uwzględniając zmiany cen oraz ilości. Nazwa wyrobu Wartość sprzedaży w 2005 (mln zł.) Zmiany ilości Radio 38410 Spadek o 35% Telewizor 423800 Wzrost o 49% Suma 462210 x Opracowano na podstawie: Sobczyk Mieczysław, 2002, Statystyka, Wydawnictwo Naukowe PWN. "]
]
